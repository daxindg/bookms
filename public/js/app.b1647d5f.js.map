{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AuthorTool.vue?1376","webpack:///./src/components/MaterialButton.vue?4c10","webpack:///./src/components/Pagination.vue?7b33","webpack:///./src/components/TagTool.vue?de5c","webpack:///./src/components/Card.vue?14b3","webpack:///./src/App.vue","webpack:///./src/components/BookItem.vue","webpack:///./src/components/Card.vue","webpack:///./src/components/Card.vue?790b","webpack:///./src/components/MaterialButton.vue","webpack:///./src/components/MaterialButton.vue?0202","webpack:///./src/components/TagTool.vue","webpack:///./src/components/CollapseSearchBox.vue","webpack:///./src/components/CollapseSearchBox.vue?88d7","webpack:///./src/components/Modal.vue","webpack:///./src/components/Modal.vue?9db4","webpack:///./src/components/TagTool.vue?0e0c","webpack:///./src/components/AuthorTool.vue","webpack:///./src/components/AuthorTool.vue?d687","webpack:///./src/components/BookItem.vue?af36","webpack:///./src/components/topBar/TopBar.vue","webpack:///./src/components/topBar/NewBookForm.vue","webpack:///./src/components/Collapse.vue","webpack:///./src/components/Collapse.vue?451f","webpack:///./src/components/topBar/NewBookForm.vue?1222","webpack:///./src/components/topBar/Userprofile.vue","webpack:///./src/components/topBar/Userprofile.vue?8f0f","webpack:///./src/components/topBar/BorrowTable.vue","webpack:///./src/components/topBar/BorrowTable.vue?07e0","webpack:///./src/components/topBar/PendingTable.vue","webpack:///./src/components/topBar/PendingTable.vue?1451","webpack:///./src/components/topBar/UserTable.vue","webpack:///./src/components/topBar/UserTable.vue?d515","webpack:///./src/components/topBar/TopBar.vue?87e5","webpack:///./src/components/Searchbar.vue","webpack:///./src/components/Searchbar.vue?4bd1","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/components/topBar/BorrowTable.vue?b250","webpack:///./src/components/topBar/PendingTable.vue?4355","webpack:///./src/components/CollapseSearchBox.vue?e139","webpack:///./src/components/topBar/TopBar.vue?8dbc","webpack:///./src/components/BookItem.vue?7002","webpack:///./src/components/topBar/Userprofile.vue?bc10","webpack:///./src/App.vue?7fbe","webpack:///./src/components/Searchbar.vue?e43e","webpack:///./src/components/topBar/NewBookForm.vue?a08d","webpack:///./src/components/Collapse.vue?5283","webpack:///./src/App.vue?718e","webpack:///./src/components/Modal.vue?4403","webpack:///./src/components/topBar/UserTable.vue?fd52"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","xmlns","width","height","viewBox","user","$event","search","large","toggle-search","toggle-count","toggle-add","toggle-delete","authors","total","totalPages","currentPage","type","listview","fallback","trim","books","book","bid","bookdata","userclass","id","show_modal","title","textview","columns","idx","val","data-image","cover","src","header","book_props","content","to","alt","changeCover","book_intro","for","label","disabled","onBtnEditClicked","can_delete","deleteBook","can_borrow","borrowBook","handleMouseMove","handleMouseEnter","handleMouseLeave","ref","style","cardStyle","dataImage","cardBgTransform","mounted","this","$refs","card","offsetWidth","offsetHeight","props","String","mouseX","mouseY","mouseLeaveDelay","computed","mousePX","mousePY","rX","rY","transform","tX","tY","methods","e","pageX","offsetLeft","pageY","offsetTop","clearTimeout","render","__scopeId","isInput","Boolean","fill","textContent","hideTitle","toggleSearch","search-text","searchText","toggleAdd","show_modal_add","undefined","allTags","tags","tag","active","onClickTag","toggleCount","bcount","toggleDelete","removeTag","tid","show-modal","footer","form","submiting","submitNewTag","keys","new_tag_form","sort","order","label_name","focus","inputFocusout","autocomplete","dropdownItems","item","valid","err","focusable","expand","placeholder","$emit","target","onFocusin","onFocusout","href","hasFocus","showModal","components","SearchBar","Modal","MaterialButton","Number","watch","regex","RegExp","act","$root","filter","iact","miact","test","imiact","res","console","log","map","join","setTimeout","fetchTags","fetch","method","then","json","ok","catch","FormData","body","msg","x","confirm","alert","created","unmounted","searchfocus","inputSearchAuthorName","chooseAuthor","author","unchooseAuthor","aid","removeAuthor","submitNewAuthor","new_author_form","inputfocus","inputAuthorName","newValue","timeoutID","fetchAuthors","Card","TagTool","AuthorTool","fetchCover","intro","pub","isbn","year","page","rem","imgUrl","prompt","URL","referrer","image","blob","append","JSON","stringify","updateBook","navExpand","toggle_login_modal","toggle_register_modal","showUserprofile","showBorrowTable","showPendingTable","showUserTable","toggle_newbook_modal","logout","login","login_form","register","register_form","show","rows","submitNewBook","newbook_form","expandCollapseTags","is-expand","hide-title","isExpand","expandContent","cont","collapseContent","element","scrollHeight","addEventListener","wtf","removeEventListener","elementTransition","transition","requestAnimationFrame","Collapse","entries","k","v","it","parseInt","Date","getFullYear","MAX_SAFE_INTEGER","set","showChpswModal","uid","email","count","changePassword","inputItems","password0","password","password1","fetchData","param","sortTable","stime","ddl","status","returnBook","brid","ascending","sortColumn","col","a","b","username","acceptRequest","rejectRequest","sortBy","sortKey","sortOrders","filteredRows","entry","setClass","filterKey","row","some","toLowerCase","indexOf","forEach","ModalNewBook","Userprofile","BorrowTable","PendingTable","UserTable","emits","stroke","stroke-width","stroke-linecap","stroke-linejoin","points","filter_expend","displayedPages","pageNumber","Array","from","_","BookItem","TopBar","Pagination","filter_expanded","checkLogin","url","location","origin","params","s_text","pno","URLSearchParams","createApp","App","mount"],"mappings":"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","file":"js/app.b1647d5f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AuthorTool.vue?vue&type=style&index=0&id=61683b52&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AuthorTool.vue?vue&type=style&index=0&id=61683b52&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MaterialButton.vue?vue&type=style&index=0&id=b27755c6&scoped=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MaterialButton.vue?vue&type=style&index=0&id=b27755c6&scoped=true&lang=css\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Pagination.vue?vue&type=style&index=0&id=58f7d3ee&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Pagination.vue?vue&type=style&index=0&id=58f7d3ee&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TagTool.vue?vue&type=style&index=0&id=22224b2a&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TagTool.vue?vue&type=style&index=0&id=22224b2a&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Card.vue?vue&type=style&index=0&id=516f2dda&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Card.vue?vue&type=style&index=0&id=516f2dda&lang=scss&scoped=true\"","<template>\n    <top-bar\n        :user=\"user\"\n        @login=\"user = $event\"\n        @register=\"user = $event\"\n        @logout=\"user = { class: 'guest' }\"\n    />\n    <search-bar @submit-search=\"search($event)\">\n        <author-tool\n            :large=\"true\"\n            :toggle-search=\"true\"\n            :toggle-count=\"true\"\n            :toggle-add=\"user.class !== 'guest' && user.class !== 'user'\"\n            :toggle-delete=\"user.class !== 'guest' && user.class !== 'user'\"\n            @authors-changed=\"authors = $event\"\n        />\n        <tag-tool\n            :large=\"true\"\n            :toggle-search=\"true\"\n            :toggle-count=\"true\"\n            :toggle-add=\"user.class !== 'guest' && user.class !== 'user'\"\n            :toggle-delete=\"user.class !== 'guest' && user.class !== 'user'\"\n        />\n    </search-bar>\n\n    <div class=\"page-nav\">\n        <pagination :total=\"totalPages\" @page-updated=\"currentPage = $event\" />\n        <button class=\"change-view\" type=\"button\" @click=\"listview = !listview\">\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                v-if=\"!listview\"\n            >\n                <path\n                    d=\"M4 22h-4v-4h4v4zm0-12h-4v4h4v-4zm0-8h-4v4h4v-4zm3 0v4h17v-4h-17zm0 12h17v-4h-17v4zm0 8h17v-4h-17v4z\"\n                />\n            </svg>\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                v-else\n            >\n                <path\n                    d=\"M11 11h-11v-11h11v11zm13 0h-11v-11h11v11zm-13 13h-11v-11h11v11zm13 0h-11v-11h11v11z\"\n                />\n            </svg>\n        </button>\n    </div>\n\n    <div class=\"fallback\" v-if=\"fallback.trim().length > 0\">\n        <h1>{{ fallback }}</h1>\n    </div>\n    <div class=\"container\" v-else>\n        <template v-if=\"listview\">\n            <div class=\"table-container\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>书名</th>\n                            <th>作者</th>\n                            <th>出版社</th>\n                            <th>出版年</th>\n                            <th>页数</th>\n                            <th>剩余</th>\n                            <th>总量</th>\n                            <th>ISBN</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <book-item\n                            v-for=\"book in books\"\n                            :key=\"book.bid\"\n                            :bookdata=\"book\"\n                            :userclass=\"user.class\"\n                            :listview=\"true\"\n                        />\n                    </tbody>\n                </table>\n            </div>\n        </template>\n        <template v-else>\n            <book-item\n                v-for=\"book in books\"\n                :key=\"book.bid\"\n                :bookdata=\"book\"\n                :userclass=\"user.class\"\n            />\n        </template>\n    </div>\n</template>\n\n<script>\nimport BookItem from \"./components/BookItem.vue\";\nimport TopBar from \"./components/topBar/TopBar\";\nimport SearchBar from \"./components/Searchbar\";\nimport TagTool from \"./components/TagTool\";\nimport AuthorTool from \"./components/AuthorTool\";\nimport Pagination from \"./components/Pagination\";\n\nexport default {\n    name: \"App\",\n    components: {\n        BookItem,\n        TopBar,\n        SearchBar,\n        TagTool,\n        AuthorTool,\n        Pagination,\n    },\n    data() {\n        return {\n            fallback: \"loading\",\n            user: {\n                class: \"guest\",\n            },\n            books: [],\n            tags: [\n                {\n                    tid: 1,\n                    name: \"我列开来1\",\n                    bcount: 233,\n                },\n            ],\n            authors: [],\n            totalPages: 1,\n            currentPage: 1,\n            searchText: \"\",\n            filter_expanded: false,\n            listview: false,\n        };\n    },\n    created() {\n        this.checkLogin();\n        this.fetchData();\n        // this.fetchuser();\n    },\n    methods: {\n        fetchData() {\n            this.fallback = \"Loading\";\n            fetch(\"/api/book/list\", {\n                method: \"GET\",\n            })\n                .then((res) => res.json())\n                .then((res) => {\n                    if (res.ok) {\n                        this.books = res.data.books;\n                        this.totalPages = res.data.count;\n                        // console.log(res.data);\n                        this.fallback = \"\";\n                    } else {\n                        alert(\"failed\");\n                        console.log(res);\n                    }\n                })\n                .catch((err) => {\n                    console.log(err);\n                    this.fallback = JSON.stringify(err);\n                });\n            fetch(\"/api/tag/list\", {\n                method: \"GET\",\n            })\n                .then((res) => res.json())\n                .then((res) => {\n                    if (res.ok) {\n                        this.tags = res.data;\n                        // console.log(res.data);\n                    } else {\n                        alert(\"failed\");\n                        console.log(res);\n                    }\n                })\n                .catch((err) => console.log(err));\n        },\n        checkLogin() {\n            fetch(\"/user/login\", {\n                method: \"POST\",\n            })\n                .then((res) => res.json())\n                .then((res) => {\n                    if (res.ok) {\n                        this.user = res.data;\n                    }\n                })\n                .catch((err) => console.log(err));\n        },\n        search(searchText) {\n            // var data = new FormData();\n            // data.append('s_text', searchText);\n            // data.append('tags', this.tags.filter(e => e.active).map(e => e.tid));\n            // data.append('authors', this.authors.map(e => e.aid));\n            // for (let [key, val] of data.entries()) {\n            //     console.log(key, val);\n            // }\n            if (searchText) this.searchText = searchText;\n            else searchText = this.searchText;\n            var url = new URL(\"/api/book/list\", window.location.origin);\n            var params = {\n                authors: JSON.stringify(this.authors.map((e) => e.aid)),\n                tags: JSON.stringify(\n                    this.tags.filter((e) => e.active).map((e) => e.tid)\n                ),\n                s_text: searchText,\n                pno: this.currentPage,\n            };\n            url.search = new URLSearchParams(params);\n\n            this.fallback = \"Loading\";\n            fetch(url, {\n                method: \"GET\",\n            })\n                .then((res) => res.json())\n                .then((res) => {\n                    if (res.ok) {\n                        this.books = res.data.books;\n                        this.totalPages = parseInt(res.data.count);\n                        console.log(this.totalPages);\n                        // console.log(res.data);\n                        this.fallback = \"\";\n                    } else {\n                        alert(\"failed\");\n                        console.log(res);\n                    }\n                })\n                .catch((err) => {\n                    console.log(err);\n                    this.fallback = JSON.stringify(err);\n                });\n        },\n    },\n    watch: {\n        currentPage() {\n            this.search();\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\n* {\n    -webkit-tap-highlight-color: transparent;\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n    background-color: cornsilk;\n}\n\n#app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    display: block;\n    width: 100%;\n    margin: auto;\n    transition: all 0.5s ease-in-out;\n}\n\n@media all and (min-width: 70rem) {\n    #app {\n        width: 80%;\n    }\n}\n.container {\n    display: flex;\n    flex-wrap: wrap;\n    @media all and (max-width: 430px) {\n        flex-direction: column;\n        align-items: center;\n    }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.table-container {\n    width: 100%;\n    overflow: auto;\n    table {\n        text-align: left;\n        background: #7c6c3702;\n        border-radius: 0.25em;\n        border-collapse: collapse;\n        margin: auto;\n        white-space: nowrap;\n        min-width: 100%;\n        // &::-webkit-scrollbar {\n        //     width: 1px;\n        // }\n\n        // &::-webkit-scrollbar-track {\n        //     box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.3);\n        // }\n\n        // &::-webkit-scrollbar-thumb {\n        //     background-color: rgba(245, 211, 117, 0.822);\n        //     outline: 1px solid rgba(128, 224, 248, 0.219);\n        // }\n        tbody {\n            tr {\n                transition: background 0.25s ease;\n                &:hover {\n                    background: #5554018c;\n                }\n            }\n        }\n    }\n    th {\n        border-bottom: 1px solid #364043;\n        color: #aa996a;\n        font-size: 1rem;\n        font-weight: 600;\n        padding: 5px 10px;\n        text-align: left;\n\n        cursor: pointer;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n\n        &.active {\n            color: rgb(255, 255, 255);\n        }\n\n        &.active .arrow {\n            opacity: 1;\n        }\n    }\n    td {\n        color: rgb(0, 0, 0);\n        font-size: 1rem;\n        font-weight: 500;\n        padding: 0.1rem 10px;\n\n        .class {\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            border-radius: 0.5em;\n            padding: 0.2em 0.6em;\n            overflow: hidden;\n            cursor: pointer;\n            box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\n                0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n            &.user {\n                background-color: rgb(64, 126, 3);\n            }\n            &.admin {\n                background-color: firebrick;\n            }\n        }\n    }\n    .disabled td {\n        color: #4f5f64;\n    }\n}\n.page-nav {\n    position: relative;\n\n    button.change-view {\n        position: absolute;\n        top: 25%;\n        right: 0;\n        outline: none;\n        border-radius: 4px;\n        border: none;\n        background: rgba(0, 0, 0, 0);\n        cursor: pointer;\n        svg {\n            fill: rosybrown;\n        }\n    }\n}\n</style>\n","<template>\r\n    <!-- <div class=\"card\"> -->\r\n    <tr v-if=\"listview\" @click=\"show_modal = true\">\r\n        <td>\r\n            {{ bookdata.title }}\r\n        </td>\r\n        <td>\r\n            <author-tool :bid=\"bookdata.bid\" :textview=\"true\" />\r\n        </td>\r\n        <td v-for=\"(key, idx) in columns\" :key=\"idx\">\r\n            <!-- <span\r\n                v-if=\"key.val === 'class'\"\r\n                class=\"class\"\r\n                :class=\"entry[key.name]\"\r\n                @click=\"setClass(entry.uid)\"\r\n                >{{ entry[key] }}</span\r\n            > -->\r\n            <span>{{ bookdata[key.val] }}</span>\r\n        </td>\r\n    </tr>\r\n    <card @click=\"show_modal = true\" :data-image=\"cover.src\" v-else>\r\n        <template v-slot:header>\r\n            <h1>{{ book_props.title.val }}</h1>\r\n        </template>\r\n        <template v-slot:content>\r\n            <p>&nbsp;</p>\r\n        </template>\r\n        <!-- <h1 slot=\"header\">Canyons</h1>\r\n            <p slot=\"content\">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p> -->\r\n    </card>\r\n    <!-- </div> -->\r\n    <teleport to=\"#app\">\r\n        <div\r\n            class=\"modal_mask\"\r\n            v-show=\"show_modal\"\r\n            :class=\"{ shown: show_modal }\"\r\n            @click=\"show_modal = false\"\r\n        >\r\n            <div class=\"modal\">\r\n                <div class=\"book\" @click.stop>\r\n                    <span class=\"btn_close\" @click=\"show_modal = false\"\r\n                        >&times;</span\r\n                    >\r\n                    <div class=\"header\">\r\n                        <div class=\"left\">\r\n                            <img\r\n                                :src=\"cover.src\"\r\n                                v-bind:alt=\"cover.alt\"\r\n                                @click=\"changeCover\"\r\n                            />\r\n                            <div class=\"tag-box\">\r\n                                <tag-tool\r\n                                    :toggle-add=\"\r\n                                        userclass !== 'user' &&\r\n                                        userclass !== 'guest'\r\n                                    \"\r\n                                    :bid=\"bookdata.bid\"\r\n                                    :toggle-delete=\"\r\n                                        userclass !== 'guest' &&\r\n                                        userclass !== 'user'\r\n                                    \"\r\n                                />\r\n                            </div>\r\n                            <div class=\"author-box\">\r\n                                <author-tool\r\n                                    :toggle-add=\"\r\n                                        userclass !== 'user' &&\r\n                                        userclass !== 'guest'\r\n                                    \"\r\n                                    :bid=\"bookdata.bid\"\r\n                                    :toggle-delete=\"\r\n                                        userclass !== 'guest' &&\r\n                                        userclass !== 'user'\r\n                                    \"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"right\">\r\n                            <h5>简介</h5>\r\n                            <div id=\"book_intro\">\r\n                                {{ book_intro }}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"book-props\">\r\n                        <div\r\n                            class=\"input_group\"\r\n                            v-for=\"(val, key, idx) in book_props\"\r\n                            :key=\"idx\"\r\n                        >\r\n                            <label :for=\"key\">{{ val.label }}</label>\r\n                            <input\r\n                                v-bind:type=\"val.type\"\r\n                                v-model=\"val.val\"\r\n                                :name=\"key\"\r\n                                :disabled=\"val.disabled\"\r\n                            />\r\n                            <button\r\n                                v-if=\"\r\n                                    userclass !== 'guest' &&\r\n                                    userclass !== 'user'\r\n                                \"\r\n                                class=\"btn_edit\"\r\n                                :class=\"{ active: !val.disabled }\"\r\n                                @click=\"onBtnEditClicked(val, key)\"\r\n                            >\r\n                                <!-- {{ val.disabled ? \"🖊️\" : \"✔️\" }} -->\r\n                                <svg\r\n                                    v-if=\"val.disabled\"\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                >\r\n                                    <path\r\n                                        d=\"M18.363 8.464l1.433 1.431-12.67 12.669-7.125 1.436 1.439-7.127 12.665-12.668 1.431 1.431-12.255 12.224-.726 3.584 3.584-.723 12.224-12.257zm-.056-8.464l-2.815 2.817 5.691 5.692 2.817-2.821-5.693-5.688zm-12.318 18.718l11.313-11.316-.705-.707-11.313 11.314.705.709z\"\r\n                                    />\r\n                                </svg>\r\n                                <svg\r\n                                    v-else\r\n                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                >\r\n                                    <path\r\n                                        d=\"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z\"\r\n                                    />\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                        <!-- <input type=\"text\" v-model=\"title.val\" :disabled=\"title.disabled\">\r\n                    <input type=\"text\" v-model=\"isbn.val\" :disabled=\"isbn.disabled\">\r\n                    <input type=\"number\" v-model=\"year.val\" :disabled=\"year.disabled\">\r\n                    <input type=\"number\" v-model=\"page.val\" :disabled=\"page.disabled\">\r\n                    <input type=\"number\" v-model=\"rem.val\" :disabled=\"rem.disabled\"> -->\r\n                    </div>\r\n                    <div class=\"footer\">\r\n                        <material-button\r\n                            class=\"btn_remove\"\r\n                            v-if=\"can_delete\"\r\n                            :content=\"'删除'\"\r\n                            @click=\"deleteBook\"\r\n                        />\r\n                        <material-button\r\n                            class=\"btn_borrow\"\r\n                            :disabled=\"!can_borrow\"\r\n                            :content=\"'借阅'\"\r\n                            @click=\"borrowBook\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </teleport>\r\n</template>\r\n\r\n<script>\r\nimport Card from \"./Card\";\r\nimport MaterialButton from \"./MaterialButton\";\r\nimport TagTool from \"./TagTool\";\r\nimport AuthorTool from \"./AuthorTool\";\r\nexport default {\r\n    name: \"BookItem\",\r\n    components: {\r\n        Card,\r\n        MaterialButton,\r\n        TagTool,\r\n        AuthorTool,\r\n    },\r\n    props: {\r\n        bookdata: Object,\r\n        userclass: String,\r\n        listview: Boolean,\r\n    },\r\n    created() {\r\n        this.fetchCover();\r\n    },\r\n    data() {\r\n        return {\r\n            show_modal: false,\r\n            cover: {\r\n                src: this.bookdata.cover || \"/cover.png\",\r\n                alt: \"cover\",\r\n            },\r\n            columns: [\r\n                {\r\n                    name: \"出版社\",\r\n                    val: \"pub\",\r\n                },\r\n                {\r\n                    name: \"出版年\",\r\n                    val: \"year\",\r\n                },\r\n\r\n                {\r\n                    name: \"页数\",\r\n                    val: \"page\",\r\n                },\r\n                {\r\n                    name: \"剩余\",\r\n                    val: \"rem\",\r\n                },\r\n                {\r\n                    name: \"总数\",\r\n                    val: \"total\",\r\n                },\r\n                {\r\n                    name: \"ISBN\",\r\n                    val: \"isbn\",\r\n                },\r\n            ],\r\n            book_intro: this.bookdata.intro,\r\n            book_props: {\r\n                title: {\r\n                    label: \"书名\",\r\n                    val: this.bookdata.title || \"title\",\r\n                    type: \"text\",\r\n                    disabled: true,\r\n                },\r\n                pub: {\r\n                    label: \"出版社\",\r\n                    val: this.bookdata.pub || \"\",\r\n                    type: \"text\",\r\n                    disabled: true,\r\n                },\r\n                isbn: {\r\n                    label: \"ISBN\",\r\n                    val: this.bookdata.isbn || \"isbn\",\r\n                    type: \"text\",\r\n                    disabled: true,\r\n                },\r\n                year: {\r\n                    label: \"出版年\",\r\n                    val: this.bookdata.year || 0,\r\n                    type: \"number\",\r\n                    disabled: true,\r\n                },\r\n                page: {\r\n                    label: \"页数\",\r\n                    val: this.bookdata.page || 0,\r\n                    type: \"number\",\r\n                    disabled: true,\r\n                },\r\n                rem: {\r\n                    label: \"余量\",\r\n                    val: this.bookdata.rem || 0,\r\n                    type: \"number\",\r\n                    disabled: true,\r\n                },\r\n                total: {\r\n                    label: \"总数\",\r\n                    val: this.bookdata.total || 0,\r\n                    type: \"number\",\r\n                    disabled: true,\r\n                },\r\n            },\r\n        };\r\n    },\r\n    computed: {\r\n        can_delete() {\r\n            return this.userclass !== \"user\" && this.userclass !== \"guest\";\r\n        },\r\n        can_borrow() {\r\n            return this.userclass !== \"guest\" && this.bookdata.rem > 0;\r\n        },\r\n    },\r\n    methods: {\r\n        async changeCover() {\r\n            if (this.userclass === \"guest\" || this.userclass === \"user\") {\r\n                return;\r\n            }\r\n            var imgUrl = prompt(\"图片url:\");\r\n            var data = new FormData();\r\n            try {\r\n                imgUrl = new URL(\r\n                    `https://cors-anywhere.herokuapp.com/${imgUrl}`\r\n                );\r\n                var image = await fetch(imgUrl, {\r\n                    method: \"GET\",\r\n                    referrer: \"\",\r\n                });\r\n                image = await image.blob();\r\n                console.log(image);\r\n                data.append(\"cover\", image, \"cover\");\r\n            } catch {\r\n                alert(\"Failed to fetch image\");\r\n                return;\r\n            }\r\n            var res = await fetch(`/api/book/${this.bookdata.bid}/setcover`, {\r\n                method: \"POST\",\r\n                body: data,\r\n            });\r\n            res = await res.json();\r\n            if (!res.ok) {\r\n                console.log(res.err);\r\n            }\r\n            else this.cover.src = res.data.cover;\r\n        },\r\n        async fetchCover() {\r\n            var res = await fetch(`/api/book/${this.bookdata.bid}/cover`, {\r\n                method: \"get\",\r\n            });\r\n            res = await res.json();\r\n            if (res.ok) {\r\n                this.cover.src = res.data.cover || \"/cover.png\";\r\n            }\r\n        },\r\n        borrowBook() {\r\n            if (!confirm(`申请借阅 「${this.bookdata.title}」 ?`)) return;\r\n            fetch(`/api/borrow/${this.bookdata.bid}`, { method: \"POST\" })\r\n                .then((res) => res.json())\r\n                .catch((err) => alert(\"Failed: \" + JSON.stringify(err)));\r\n        },\r\n        deleteBook() {\r\n            if (confirm(`删除 「${this.bookdata.title}」`)) {\r\n                fetch(`/api/book/del/${this.bookdata.bid}`, { method: \"POST\" })\r\n                    .then((res) => res.json())\r\n                    .then((res) => {\r\n                        if (res.ok) {\r\n                            this.$root.books = this.$root.books.filter(\r\n                                (e) => e.bid !== this.bookdata.bid\r\n                            );\r\n                        }\r\n                    })\r\n                    .catch((err) => alert(\"Failed: \" + JSON.stringify(err)));\r\n            }\r\n        },\r\n\r\n        onBtnEditClicked(val, key) {\r\n            if (val.disabled === true) {\r\n                val.disabled = false;\r\n            } else {\r\n                val.disabled = true;\r\n                var x = this.$root.books.filter(\r\n                    (e) => e.bid === this.bookdata.bid\r\n                )[0];\r\n                if (val.val == x[key]) {\r\n                    return;\r\n                } else {\r\n                    let body = new FormData();\r\n                    body.append(key, val.val);\r\n                    fetch(`/api/book/${this.bookdata.bid}/set`, {\r\n                        method: \"POST\",\r\n                        body: body,\r\n                    })\r\n                        .then((res) => res.json())\r\n                        .then((res) => {\r\n                            if (res.ok) {\r\n                                x[key] = res.data[key];\r\n                            } else {\r\n                                console.log(res.msg);\r\n                            }\r\n                            this.updateBook();\r\n                        })\r\n                        .catch((err) => console.log(err));\r\n                }\r\n            }\r\n        },\r\n        updateBook() {\r\n            this.book_props = {\r\n                title: {\r\n                    label: \"书名\",\r\n                    val: this.bookdata.title || \"title\",\r\n                    type: \"text\",\r\n                    disabled: true,\r\n                },\r\n                isbn: {\r\n                    label: \"ISBN\",\r\n                    val: this.bookdata.isbn || \"isbn\",\r\n                    type: \"text\",\r\n                    disabled: true,\r\n                },\r\n                year: {\r\n                    label: \"出版年\",\r\n                    val: this.bookdata.year || 0,\r\n                    type: \"number\",\r\n                    disabled: true,\r\n                },\r\n                page: {\r\n                    label: \"页数\",\r\n                    val: this.bookdata.page || 0,\r\n                    type: \"number\",\r\n                    disabled: true,\r\n                },\r\n                rem: {\r\n                    label: \"余量\",\r\n                    val: this.bookdata.rem || 0,\r\n                    type: \"number\",\r\n                    disabled: true,\r\n                },\r\n                total: {\r\n                    label: \"总数\",\r\n                    val: this.bookdata.total || 0,\r\n                    type: \"number\",\r\n                    disabled: true,\r\n                },\r\n            };\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.card {\r\n    display: flex;\r\n}\r\n\r\n.modal_mask {\r\n    z-index: 233;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.7);\r\n    display: table;\r\n}\r\n\r\n.modal {\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n}\r\n\r\n.btn_close {\r\n    float: right;\r\n    padding-right: 5px;\r\n    font-size: 2em;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease-in-out;\r\n    &:hover {\r\n        color: red;\r\n        /* transition: all 1s ease-in-out; */\r\n    }\r\n}\r\n\r\n.book {\r\n    border: solid 1px rgba(240, 145, 216, 0.3);\r\n    background-color: rgba(255, 245, 238, 0.815);\r\n    border-radius: 4px;\r\n    max-width: 40em;\r\n    margin: auto;\r\n    transition: all 1s ease-in-out;\r\n\r\n    max-height: 90vh;\r\n    overflow-y: scroll;\r\n    &::-webkit-scrollbar {\r\n        width: 3px;\r\n    }\r\n\r\n    &::-webkit-scrollbar-track {\r\n        box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\r\n    }\r\n\r\n    &::-webkit-scrollbar-thumb {\r\n        background-color: rgba(245, 211, 117, 0.822);\r\n        outline: 1px solid rgba(128, 224, 248, 0.219);\r\n    }\r\n\r\n    .header {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        justify-content: center;\r\n        .left img {\r\n            max-width: 100%;\r\n        }\r\n        .left {\r\n            /* flex: 0 1; */\r\n            width: 233px;\r\n            .tag-box,\r\n            .author-box {\r\n                border: 2px solid silver;\r\n            }\r\n            .author-box {\r\n                border-top: none;\r\n            }\r\n        }\r\n        .right {\r\n            flex: 1 1 15rem;\r\n            padding: 0 1.2em;\r\n            margin: auto 0;\r\n            text-align: left;\r\n        }\r\n        .book_intro {\r\n            white-space: pre-wrap;\r\n        }\r\n    }\r\n    .book-props {\r\n        border-top: 2px solid cornsilk;\r\n        margin-top: 0.3em;\r\n    }\r\n}\r\n\r\n.input_group {\r\n    width: 80%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: stretch;\r\n    margin: 0 auto;\r\n    margin-top: 1em;\r\n    border: solid 1px rgba(15, 78, 250, 0.315);\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    label {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        width: 3rem;\r\n    }\r\n    &:last-child {\r\n        margin-bottom: 1em;\r\n    }\r\n    input {\r\n        flex: 1;\r\n        margin-right: 1px;\r\n    }\r\n    input,\r\n    button {\r\n        border: none;\r\n        outline: none;\r\n        transition: all 0.5s ease-in-out;\r\n        padding: 0.4rem;\r\n    }\r\n\r\n    button.active {\r\n        background-color: rgba(64, 224, 163, 0.664);\r\n    }\r\n    button {\r\n        background-color: rgba(33, 149, 243, 0.767);\r\n        padding: 0 0.4rem;\r\n        svg {\r\n            width: 1rem;\r\n            height: 1rem;\r\n        }\r\n    }\r\n}\r\n\r\n/* \r\n.footer {\r\n    display: flex;\r\n    justify-content: space-around;\r\n} */\r\n.footer {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    button {\r\n        margin: 0 0.5rem;\r\n        margin-bottom: 0.5rem;\r\n    }\r\n}\r\ntr {\r\n    border-bottom: 1px solid silver;\r\n    td {\r\n        padding: 0.4rem 0;\r\n        &:first-child {\r\n            max-width: 10rem;\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n        }\r\n    }\r\n}\r\n</style>","<template>\r\n    <div\r\n        class=\"card-wrap\"\r\n        @mousemove=\"handleMouseMove\"\r\n        @mouseenter=\"handleMouseEnter\"\r\n        @mouseleave=\"handleMouseLeave\"\r\n        ref=\"card\"\r\n    >\r\n        <div class=\"card\" :style=\"cardStyle\">\r\n            <img :src=\"dataImage\" class=\"card-bg\" :style=\"[cardBgTransform]\" />\r\n            <div class=\"card-info\">\r\n                <slot name=\"header\"></slot>\r\n                <slot name=\"content\"></slot>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Card\",\r\n    mounted() {\r\n        this.width = this.$refs.card.offsetWidth;\r\n        this.height = this.$refs.card.offsetHeight;\r\n    },\r\n    props: {\r\n        dataImage: String,\r\n    },\r\n    data() {\r\n        return {\r\n            width: 0,\r\n            height: 0,\r\n            mouseX: 0,\r\n            mouseY: 0,\r\n            mouseLeaveDelay: null,\r\n        };\r\n    },\r\n    computed: {\r\n        mousePX() {\r\n            return this.mouseX / this.width;\r\n        },\r\n        mousePY() {\r\n            return this.mouseY / this.height;\r\n        },\r\n        cardStyle() {\r\n            const rX = this.mousePX * 30;\r\n            const rY = this.mousePY * -30;\r\n            return {\r\n                transform: `rotateY(${rX}deg) rotateX(${rY}deg)`,\r\n            };\r\n        },\r\n        cardBgTransform() {\r\n            const tX = this.mousePX * -40;\r\n            const tY = this.mousePY * -40;\r\n            return {\r\n                transform: `translateX(${tX}px) translateY(${tY}px)`,\r\n            };\r\n        },\r\n        // cardBgImage() {\r\n\r\n        //     var x = {\r\n        //         backgroundImage: 'url(' + this.dataImage + ')',\r\n        //     };\r\n        //     console.log(x);\r\n        //     return this.dataI;\r\n        // },\r\n    },\r\n    methods: {\r\n        handleMouseMove(e) {\r\n            this.mouseX = e.pageX - this.$refs.card.offsetLeft - this.width / 2;\r\n            this.mouseY = e.pageY - this.$refs.card.offsetTop - this.height / 2;\r\n        },\r\n        handleMouseEnter() {\r\n            clearTimeout(this.mouseLeaveDelay);\r\n        },\r\n        handleMouseLeave() {\r\n            // this.mouseLeaveDelay = setTimeout(() => {\r\n            this.mouseX = 0;\r\n            this.mouseY = 0;\r\n            // }, 500);\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$hoverEasing: cubic-bezier(0.23, 1, 0.32, 1);\r\n$returnEasing: cubic-bezier(0.445, 0.05, 0.55, 0.95);\r\n\r\nbody {\r\n    margin: 40px 0;\r\n    font-family: \"Raleway\";\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    background-color: #bcaaa4;\r\n    -webkit-font-smoothing: antialiased;\r\n}\r\n\r\n.title {\r\n    font-family: \"Raleway\";\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    color: #5d4037;\r\n    text-align: center;\r\n}\r\n\r\nh1,p {\r\n    user-select: none;\r\n}\r\n\r\np {\r\n    line-height: 1.5em;\r\n}\r\n\r\nh1 + p,\r\np + p {\r\n    margin-top: 10px;\r\n}\r\n\r\n.container {\r\n    padding: 40px 80px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n}\r\n\r\n.card-wrap {\r\n    margin: 10px;\r\n    transform: perspective(800px);\r\n    transform-style: preserve-3d;\r\n    cursor: pointer;\r\n    // background-color: #fff;\r\n\r\n    &:hover {\r\n        >>> .card-info {\r\n            transform: translateY(0);\r\n        }\r\n        >>> .card-info p {\r\n            opacity: 1;\r\n        }\r\n        >>> .card-info,\r\n        >>> .card-info >>> p {\r\n            transition: 0.6s $hoverEasing;\r\n        }\r\n        >>> .card-info:after {\r\n            transition: 1s $hoverEasing;\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n        }\r\n        >>> .card-bg {\r\n            transition: 0.6s $hoverEasing, opacity 1s $hoverEasing;\r\n            opacity: 0.8;\r\n        }\r\n        >>> .card {\r\n            transition: 0.6s $hoverEasing, box-shadow 2s $hoverEasing;\r\n            box-shadow: rgba(white, 0.2) 0 0 40px 5px, rgba(white, 1) 0 0 0 1px,\r\n                rgba(black, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px,\r\n                inset white 0 0 0 6px;\r\n        }\r\n    }\r\n}\r\n\r\n.card {\r\n    position: relative;\r\n    flex: 0 0 240px;\r\n    width: 180px;\r\n    height: 240px;\r\n    background-color: #333;\r\n    overflow: hidden;\r\n    border-radius: 10px;\r\n    box-shadow: rgba(black, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px,\r\n        inset rgba(white, 0.5) 0 0 0 6px;\r\n    transition: 1s $returnEasing;\r\n}\r\n\r\n.card-bg {\r\n    opacity: 0.5;\r\n    position: absolute;\r\n    top: -20px;\r\n    left: -20px;\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 20px;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    background-size: cover;\r\n    transition: 1s $returnEasing, opacity 1s 1s $returnEasing;\r\n    pointer-events: none;\r\n}\r\n\r\n.card-info {\r\n    padding: 0;\r\n    width: 100%;\r\n    position: absolute;\r\n    bottom: 0;\r\n    color: #fff;\r\n    transform: translateY(30%);\r\n    transition: 0.6s 0.6s cubic-bezier(0.215, 0.61, 0.355, 1);\r\n    >>> h1 {\r\n        font-family: \"Playfair Display\";\r\n        font-size: 1em;\r\n        font-weight: 400;\r\n        text-shadow: rgba(black, 0.5) 0 10px 10px;\r\n    }\r\n    >>> p {\r\n        opacity: 0;\r\n        text-shadow: rgba(black, 1) 0 2px 3px;\r\n        transition: 0.6s 0.6s cubic-bezier(0.215, 0.61, 0.355, 1);\r\n    }\r\n\r\n    >>> * {\r\n        position: relative;\r\n        z-index: 1;\r\n    }\r\n\r\n    &:after {\r\n        content: \"\";\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-image: linear-gradient(\r\n            to bottom,\r\n            transparent 0%,\r\n            rgba(#000, 0.6) 100%\r\n        );\r\n        background-blend-mode: overlay;\r\n        opacity: 0;\r\n        transform: translateY(100%);\r\n        transition: 1s 1s $returnEasing;\r\n    }\r\n}\r\n</style>","import { render } from \"./Card.vue?vue&type=template&id=516f2dda&scoped=true&bindings={\\\"dataImage\\\":\\\"props\\\",\\\"width\\\":\\\"data\\\",\\\"height\\\":\\\"data\\\",\\\"mouseX\\\":\\\"data\\\",\\\"mouseY\\\":\\\"data\\\",\\\"mouseLeaveDelay\\\":\\\"data\\\",\\\"mousePX\\\":\\\"options\\\",\\\"mousePY\\\":\\\"options\\\",\\\"cardStyle\\\":\\\"options\\\",\\\"cardBgTransform\\\":\\\"options\\\",\\\"handleMouseMove\\\":\\\"options\\\",\\\"handleMouseEnter\\\":\\\"options\\\",\\\"handleMouseLeave\\\":\\\"options\\\"}\"\nimport script from \"./Card.vue?vue&type=script&lang=js\"\nexport * from \"./Card.vue?vue&type=script&lang=js\"\n\nimport \"./Card.vue?vue&type=style&index=0&id=516f2dda&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-516f2dda\"\n\nexport default script","<template>\r\n    <input class=\"material-button\" type=\"submit\" v-if=\"isInput\" :value=\"content\">\r\n    <button class=\"material-button\" v-else>\r\n        {{content}}\r\n    </button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'MaterialButton',\r\n    props: {\r\n        isInput:Boolean,\r\n        content:String,\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.material-button {\r\n    position: relative;\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    border: none;\r\n    border-radius: 4px;\r\n    padding: 0 16px;\r\n    min-width: 64px;\r\n    height: 36px;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n    text-overflow: ellipsis;\r\n    text-transform: uppercase;\r\n    color: rgb(var(--pure-material-onprimary-rgb, 255, 255, 255));\r\n    background-color: rgb(var(--pure-material-primary-rgb, 33, 150, 243));\r\n    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n        0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n    font-family: var(\r\n        --pure-material-font,\r\n        \"Roboto\",\r\n        \"Segoe UI\",\r\n        BlinkMacSystemFont,\r\n        system-ui,\r\n        -apple-system\r\n    );\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    line-height: 36px;\r\n    overflow: hidden;\r\n    outline: none;\r\n    cursor: pointer;\r\n    transition: box-shadow 0.2s;\r\n}\r\n\r\n.material-button::-moz-focus-inner {\r\n    border: none;\r\n}\r\n\r\n/* Overlay */\r\n.material-button::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: rgb(var(--pure-material-onprimary-rgb, 255, 255, 255));\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n}\r\n\r\n/* Ripple */\r\n.material-button::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    border-radius: 50%;\r\n    padding: 50%;\r\n    width: 32px; /* Safari */\r\n    height: 32px; /* Safari */\r\n    background-color: rgb(var(--pure-material-onprimary-rgb, 255, 255, 255));\r\n    opacity: 0;\r\n    transform: translate(-50%, -50%) scale(1);\r\n    transition: opacity 1s, transform 0.5s;\r\n}\r\n\r\n/* Hover, Focus */\r\n.material-button:hover,\r\n.material-button:focus {\r\n    box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n        0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.material-button:hover::before {\r\n    opacity: 0.08;\r\n}\r\n\r\n.material-button:focus::before {\r\n    opacity: 0.24;\r\n}\r\n\r\n.material-button:hover:focus::before {\r\n    opacity: 0.3;\r\n}\r\n\r\n/* Active */\r\n.material-button:active {\r\n    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\r\n        0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.material-button:active::after {\r\n    opacity: 0.32;\r\n    transform: translate(-50%, -50%) scale(0);\r\n    transition: transform 0s;\r\n}\r\n\r\n/* Disabled */\r\n.material-button:disabled {\r\n    color: rgba(var(--pure-material-onsurface-rgb, 0, 0, 0), 0.38);\r\n    background-color: rgba(var(--pure-material-onsurface-rgb, 0, 0, 0), 0.12);\r\n    box-shadow: none;\r\n    cursor: initial;\r\n}\r\n\r\n.material-button:disabled::before {\r\n    opacity: 0;\r\n}\r\n\r\n.material-button:disabled::after {\r\n    opacity: 0;\r\n}\r\n</style>","import { render } from \"./MaterialButton.vue?vue&type=template&id=b27755c6&scoped=true&bindings={\\\"isInput\\\":\\\"props\\\",\\\"content\\\":\\\"props\\\"}\"\nimport script from \"./MaterialButton.vue?vue&type=script&lang=js\"\nexport * from \"./MaterialButton.vue?vue&type=script&lang=js\"\n\nimport \"./MaterialButton.vue?vue&type=style&index=0&id=b27755c6&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-b27755c6\"\n\nexport default script","<template>\r\n    <template v-if=\"textview\">\r\n        <span>{{ textContent }}</span>\r\n    </template>\r\n    <template v-else>\r\n        <div class=\"container\" :class=\"{ small: !large }\">\r\n            <div class=\"header\">\r\n                <span class=\"title\" v-if=\"hideTitle !== true\">标签</span>\r\n                <search-bar\r\n                    class=\"searchbar\"\r\n                    v-if=\"toggleSearch\"\r\n                    v-model:search-text=\"searchText\"\r\n                ></search-bar>\r\n                <button\r\n                    type=\"button\"\r\n                    class=\"add-new\"\r\n                    v-if=\"toggleAdd\"\r\n                    @click=\"show_modal_add = true\"\r\n                >\r\n                    <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"14\"\r\n                        height=\"14\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"#00b0ff\"\r\n                    >\r\n                        <path d=\"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n            <div class=\"spliter\" v-if=\"large\"></div>\r\n            <div class=\"content\">\r\n                <div\r\n                    class=\"tag\"\r\n                    v-for=\"(tag, idx) in bid === undefined ? allTags : tags\"\r\n                    :key=\"idx\"\r\n                    :class=\"{ active: tag.active && bid === undefined }\"\r\n                    @click=\"onClickTag(tag)\"\r\n                >\r\n                    {{ tag.name }}\r\n                    <span class=\"bcount\" v-if=\"toggleCount\">{{\r\n                        tag.bcount\r\n                    }}</span>\r\n                    <span\r\n                        class=\"close\"\r\n                        v-if=\"toggleDelete\"\r\n                        @click.stop=\"removeTag(tag.tid)\"\r\n                        >&times;</span\r\n                    >\r\n                </div>\r\n            </div>\r\n            <div class=\"footer\"></div>\r\n        </div>\r\n\r\n        <modal\r\n            class=\"modal-add small\"\r\n            :show-modal=\"show_modal_add\"\r\n            @close=\"show_modal_add = false\"\r\n            :title=\"'新建标签'\"\r\n            v-if=\"toggleAdd\"\r\n        >\r\n            <form\r\n                class=\"form\"\r\n                id=\"new-tag-form\"\r\n                @submit.stop.prevent=\"submitNewTag\"\r\n            >\r\n                <div\r\n                    class=\"form-control\"\r\n                    v-for=\"key in Object.keys(new_tag_form).sort()\"\r\n                    :key=\"new_tag_form[key].order\"\r\n                    :class=\"{\r\n                        success: new_tag_form[key].valid === true,\r\n                        error: new_tag_form[key].valid === false,\r\n                    }\"\r\n                >\r\n                    <label :for=\"key\">{{ new_tag_form[key].label_name }}</label>\r\n                    <input\r\n                        :type=\"new_tag_form[key].type\"\r\n                        :name=\"key\"\r\n                        v-model=\"new_tag_form[key].value\"\r\n                        @focus=\"focus = true\"\r\n                        @focusout=\"inputFocusout\"\r\n                        autocomplete=\"off\"\r\n                    />\r\n                    <div class=\"dropdown-container\">\r\n                        <div\r\n                            class=\"dropdown\"\r\n                            v-if=\"bid !== undefined && focus === true\"\r\n                        >\r\n                            <div\r\n                                class=\"dropdown-item\"\r\n                                v-for=\"(item, idx) in dropdownItems\"\r\n                                :key=\"idx\"\r\n                                @click=\"\r\n                                    () => {\r\n                                        focus = false;\r\n                                        new_tag_form[key].value = item.name;\r\n                                    }\r\n                                \"\r\n                            >\r\n                                {{ item.name }}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <span\r\n                        class=\"check status\"\r\n                        v-if=\"new_tag_form[key].valid === true\"\r\n                        >✔️</span\r\n                    >\r\n                    <span\r\n                        class=\"cross status\"\r\n                        v-if=\"new_tag_form[key].valid === false\"\r\n                        >❌</span\r\n                    >\r\n                    <small v-if=\"new_tag_form[key].valid === false\">{{\r\n                        new_tag_form[key].err\r\n                    }}</small>\r\n                </div>\r\n            </form>\r\n            <template v-slot:footer>\r\n                <material-button\r\n                    type=\"submit\"\r\n                    form=\"new-tag-form\"\r\n                    :content=\"submiting ? 'submiting' : 'submit'\"\r\n                />\r\n            </template>\r\n        </modal>\r\n    </template>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from \"./CollapseSearchBox\";\r\nimport Modal from \"./Modal\";\r\nimport MaterialButton from \"./MaterialButton\";\r\nexport default {\r\n    name: \"TagTool\",\r\n    components: {\r\n        SearchBar,\r\n        Modal,\r\n        MaterialButton,\r\n    },\r\n    props: {\r\n        large: Boolean,\r\n        toggleSearch: Boolean,\r\n        toggleAdd: Boolean,\r\n        toggleCount: Boolean,\r\n        toggleDelete: Boolean,\r\n        hideTitle: Boolean,\r\n        bid: Number,\r\n        textview: Boolean,\r\n        // allTags: Array\r\n    },\r\n    data() {\r\n        return {\r\n            tags: [],\r\n            new_tag_form: {\r\n                name: {\r\n                    order: 1,\r\n                    label_name: \"标签名\",\r\n                    type: \"text\",\r\n                    focus: false,\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n            },\r\n            show_modal_add: false,\r\n\r\n            searchText: \"\",\r\n            submiting: false,\r\n            focus: false,\r\n        };\r\n    },\r\n    watch: {\r\n        searchText(val) {\r\n            val = val.trim();\r\n            if (val) {\r\n                var regex = RegExp(val);\r\n                var act = this.$root.tags.filter((e) => e.active);\r\n                var iact = this.$root.tags.filter((e) => !e.active);\r\n                var miact = iact.filter((e) => regex.test(e.name));\r\n                var imiact = iact.filter((e) => !regex.test(e.name));\r\n                this.$root.tags = [...act, ...miact, ...imiact];\r\n            }\r\n        },\r\n    },\r\n    computed: {\r\n        dropdownItems() {\r\n            if (this.new_tag_form.name.value.trim().length <= 0) return;\r\n            try {\r\n                var regex = new RegExp(this.new_tag_form.name.value.trim());\r\n            } catch {\r\n                return;\r\n            }\r\n            var res = this.allTags.filter((e) => regex.test(e.name));\r\n            console.log(res);\r\n            return res;\r\n        },\r\n        allTags() {\r\n            return this.$root.tags;\r\n        },\r\n        textContent() {\r\n            return this.tags.map((e) => e.name).join(\";\");\r\n        },\r\n    },\r\n    methods: {\r\n        onClickTag(tag) {\r\n            if (this.bid !== undefined) return;\r\n            tag.active = !tag.active;\r\n            this.$root.tags = [\r\n                ...this.$root.tags.filter((e) => e.active),\r\n                ...this.$root.tags.filter((e) => !e.active),\r\n            ];\r\n        },\r\n        inputFocusout() {\r\n            setTimeout(() => (this.focus = false), 200);\r\n        },\r\n        fetchTags() {\r\n            if (this.bid === undefined) {\r\n                this.$root.tags = this.$root.tags.map((e) => {\r\n                    e.active = false;\r\n                    return e;\r\n                });\r\n                return;\r\n            }\r\n            fetch(`/api/tag/list/${this.bid || \"\"}`, {\r\n                method: \"GET\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.tags = res.data;\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n        submitNewTag(e) {\r\n            if (this.bid === undefined) {\r\n                var data = new FormData(e.target);\r\n\r\n                let name = this.new_tag_form.name;\r\n                name.value = name.value.trim();\r\n                if (name.value.length <= 0) {\r\n                    name.valid = false;\r\n                    name.err = \"标签名不可为空\";\r\n                } else if (\r\n                    this.$root.tags.filter((e) => e.name === name.value)\r\n                        .length > 0\r\n                ) {\r\n                    name.valid = false;\r\n                    name.err = \"标签已存在\";\r\n                } else {\r\n                    name.valid = true;\r\n                    name.err = \"\";\r\n                }\r\n                if (name.valid) {\r\n                    this.submiting = true;\r\n                    fetch(\"/api/tag/new\", {\r\n                        method: \"POST\",\r\n                        body: data,\r\n                    })\r\n                        .then((res) => res.json())\r\n                        .then((res) => {\r\n                            if (res.ok) {\r\n                                this.$root.tags.push(res.data);\r\n                            } else {\r\n                                name.valid = false;\r\n                                name.err = res.msg;\r\n                            }\r\n                            this.submiting = false;\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                            name.valid = false;\r\n                            name.err = \"网络错误\";\r\n                            this.submiting = false;\r\n                        });\r\n                }\r\n            } else {\r\n                let name = this.new_tag_form.name;\r\n                name.value = name.value.trim();\r\n                if (name.value.length <= 0) {\r\n                    name.valid = false;\r\n                    name.err = \"标签名不可为空\";\r\n                } else if (\r\n                    this.tags.filter((e) => e.name === name.value).length > 0\r\n                ) {\r\n                    name.valid = false;\r\n                    name.err = \"标签已存在\";\r\n                } else {\r\n                    if (\r\n                        this.$root.tags.filter((e) => e.name === name.value)\r\n                            .length <= 0\r\n                    ) {\r\n                        name.valid = false;\r\n                        name.err = \"标签不存在\";\r\n                    } else {\r\n                        let tid = this.$root.tags.filter(\r\n                            (e) => e.name === name.value\r\n                        )[0].tid;\r\n                        this.submiting = true;\r\n                        fetch(`/api/tag/add/${tid}/${this.bid}`, {\r\n                            method: \"POST\",\r\n                        })\r\n                            .then((res) => res.json())\r\n                            .then((res) => {\r\n                                if (res.ok) {\r\n                                    name.valid = true;\r\n                                    let x = this.$root.tags.filter(\r\n                                        (e) => e.name === name.value\r\n                                    )[0];\r\n                                    x.bcount++;\r\n                                    this.tags.push(x);\r\n                                    setTimeout(() => {\r\n                                        this.show_modal_add = false;\r\n                                        delete name.valid;\r\n                                        name.err = \"\";\r\n                                        name.value = \"\";\r\n                                    }, 500);\r\n                                } else {\r\n                                    name.valid = false;\r\n                                    name.err = res.msg;\r\n                                }\r\n                                this.submiting = false;\r\n                            })\r\n                            .catch((err) => {\r\n                                console.log(err);\r\n                                name.valid = false;\r\n                                name.err = \"网络错误\";\r\n                                this.submiting = false;\r\n                            });\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        removeTag(tid) {\r\n            if (confirm(`删除标签?`)) {\r\n                fetch(`/api/tag/del/${tid}/${this.bid || \"\"}`, {\r\n                    method: \"POST\",\r\n                })\r\n                    .then((res) => res.json())\r\n                    .then((res) => {\r\n                        if (res.ok) {\r\n                            if (this.bid !== undefined) {\r\n                                this.tags = this.tags.filter(\r\n                                    (e) => e.tid !== res.data.tid\r\n                                );\r\n                                this.$root.tags.filter(\r\n                                    (e) => e.tid === res.data.tid\r\n                                )[0].bcount--;\r\n                            } else\r\n                                this.$root.tags = this.$root.tags.filter(\r\n                                    (e) => e.tid !== res.data.tid\r\n                                );\r\n                        } else {\r\n                            alert(res.msg);\r\n                        }\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        this.fetchTags();\r\n    },\r\n\r\n    unmounted() {\r\n        if (this.bid === undefined) {\r\n            this.$root.tags = this.$root.tags.map((e) => {\r\n                e.active = false;\r\n                return e;\r\n            });\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n    // border: solid 1px rgba(143, 143, 143, 0.747);\r\n\r\n    border-radius: 8px;\r\n    margin: 0.5em;\r\n    padding: 0;\r\n    &.small {\r\n        margin: 0;\r\n        .header {\r\n            .title {\r\n                font-size: 14px;\r\n                font-weight: 700;\r\n            }\r\n        }\r\n    }\r\n    .spliter {\r\n        border-bottom: solid 1px rgb(218, 210, 210);\r\n        margin-bottom: 0.5em;\r\n        margin-top: 0.2em;\r\n        width: 100%;\r\n    }\r\n    .header {\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        text-align: left;\r\n        // justify-content: space-between;\r\n        .title {\r\n            flex: 1;\r\n        }\r\n        .add-new {\r\n            display: inline-flex;\r\n            align-items: center;\r\n            width: 20px;\r\n            height: 20px;\r\n\r\n            padding: 0 0.2rem;\r\n            margin: 0 0.5em;\r\n            border: 0;\r\n            outline: none;\r\n            background-color: rgba(0, 0, 0, 0);\r\n            border-radius: 50%;\r\n            cursor: pointer;\r\n            svg {\r\n                transition: all 0.5s ease-in-out;\r\n            }\r\n            &:hover svg {\r\n                // box-shadow: 0 1px 6px 0 rgba(32,33,36,0.28);\r\n                fill: rgb(89, 145, 5);\r\n            }\r\n        }\r\n    }\r\n    .content {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        .tag {\r\n            margin: 0.2em;\r\n            display: inline-flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            // border: solid 2px rgb(22, 129, 13);\r\n            border-radius: 1em;\r\n            padding: 0 0.5em;\r\n            cursor: pointer;\r\n            user-select: none;\r\n            background-color: rgba(150, 220, 241, 0.911);\r\n            transition: background-color 0.5s ease-in-out;\r\n            &:hover {\r\n                box-shadow: 0 1px 6px 0 rgba(32, 33, 36, 0.28);\r\n            }\r\n            &.active {\r\n                background-color: rgba(0, 170, 0, 0.616);\r\n                box-shadow: 0 1px 6px 0 rgba(32, 33, 36, 0.28);\r\n            }\r\n\r\n            .bcount {\r\n                display: inline-flex;\r\n                align-items: center;\r\n                font-size: 13px;\r\n                background-color: rgba(92, 91, 91, 0.767);\r\n                color: white;\r\n                padding: 0 0.2em;\r\n                height: 70%;\r\n                margin-left: 5px;\r\n                border-radius: 3px;\r\n                line-height: 0;\r\n            }\r\n            .close {\r\n                display: flex;\r\n                align-items: center;\r\n                margin-left: 2px;\r\n                transition: color 0.5s ease-in-out;\r\n                &:hover {\r\n                    color: red;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n.form {\r\n    padding: 30px 40px;\r\n    .form-control {\r\n        margin-bottom: 10px;\r\n        padding-bottom: 20px;\r\n        position: relative;\r\n        text-align: left;\r\n        .status {\r\n            user-select: none;\r\n            position: absolute;\r\n            top: 34px;\r\n            right: 5px;\r\n        }\r\n        label {\r\n            display: inline-block;\r\n            margin-bottom: 5px;\r\n        }\r\n        input {\r\n            border: 2px solid #f0f0f0;\r\n            border-radius: 4px;\r\n            display: block;\r\n            font-family: inherit;\r\n            font-size: 14px;\r\n            padding: 10px;\r\n            width: 100%;\r\n            box-sizing: border-box;\r\n            &:focus {\r\n                outline: 0;\r\n                border-color: #777;\r\n            }\r\n        }\r\n        &.error input {\r\n            border-color: #e74c3c;\r\n        }\r\n        &.success input {\r\n            border-color: #2ecc71;\r\n        }\r\n        small {\r\n            font-size: 12px;\r\n            color: #e74c3c;\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n        }\r\n    }\r\n}\r\n.dropdown-container {\r\n    position: relative;\r\n    .dropdown {\r\n        width: 100%;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        .dropdown-item {\r\n            border-left: 2px solid #777;\r\n            border-right: 2px solid #777;\r\n            border-bottom: 2px solid #777;\r\n            padding: 0.3em;\r\n            background-color: rgba(222, 214, 206, 1);\r\n            transition: background-color 0.5s ease-in-out;\r\n            &:first-child {\r\n                border-top: 2px solid #777;\r\n                border-radius: 5px 5px 0 0;\r\n                border-top-left-radius: 5px;\r\n                border-top-right-radius: 5px;\r\n            }\r\n            &:last-child {\r\n                border-bottom-left-radius: 5px;\r\n                border-bottom-right-radius: 5px;\r\n            }\r\n            &:hover {\r\n                background-color: cornsilk;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","<template>\r\n    <form class=\"search-box\" :class=\"{ expand: expand }\" @submit.prevent>\r\n        <input\r\n            type=\"text\"\r\n            name=\"\"\r\n            class=\"search-txt\"\r\n            placeholder=\"Type to search\"\r\n            :value=\"searchText\"\r\n            @input=\"$emit('update:search-text', $event.target.value)\"\r\n            ref=\"search\"\r\n            @focusin=\"onFocusin\"\r\n            @focusout=\"onFocusout\"\r\n        />\r\n        <slot></slot>\r\n        <span class=\"search-btn\" href=\"#\" @click=\"$emit('submit')\">\r\n            <svg\r\n                focusable=\"false\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 24 24\"\r\n                class=\"svg-search\"\r\n                width=\"20\"\r\n                fill=\"orangered\"\r\n            >\r\n                <path\r\n                    d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\r\n                ></path>\r\n            </svg>\r\n        </span>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"CollapseSearchBox\",\r\n    props: {\r\n        searchText: String,\r\n    },\r\n    data() {\r\n        return {\r\n            hasFocus: false,\r\n        };\r\n    },\r\n    computed: {\r\n        expand() {\r\n            return (\r\n                (this.searchText && this.searchText.length > 0) || this.hasFocus\r\n            );\r\n        },\r\n    },\r\n    methods: {\r\n        onFocusin() {\r\n            this.hasFocus = true;\r\n            this.$emit('focusin', true);\r\n        },\r\n        onFocusout() {\r\n            this.hasFocus = false;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.search-box {\r\n    /* transform: translate(-50%, -50%); */\r\n    /* display: inline-flex;\r\n    align-items: center; */\r\n    /* background: #2f3640; */\r\n    position: relative;\r\n    height: 15px;\r\n    border-radius: 20px;\r\n    padding: 7px;\r\n    margin: 5px;\r\n}\r\n\r\n.search-box:hover > .search-txt,\r\n.search-box.expand .search-txt {\r\n    width: 140px;\r\n    /* padding: 0 6px; */\r\n}\r\n\r\n.search-box:hover,\r\n.search-box.expand {\r\n    box-shadow: 0 1px 6px 0 rgba(32, 33, 36, 0.28);\r\n}\r\n\r\n.search-btn {\r\n    color: orangered;\r\n    position: absolute;\r\n    top: 5px;\r\n    right: 3px;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    /* background: #2f3640; */\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: 0.4s;\r\n}\r\n\r\n.search-txt {\r\n    border: none;\r\n    background: none;\r\n    outline: none;\r\n    /* float: left; */\r\n    padding-left: 0.3em;\r\n    /* color: white; */\r\n    font-size: 16px;\r\n    transition: 0.4s;\r\n    /* line-height: 40px; */\r\n    width: 0;\r\n}\r\n</style>","import { render } from \"./CollapseSearchBox.vue?vue&type=template&id=3716e019&scoped=true&bindings={\\\"searchText\\\":\\\"props\\\",\\\"hasFocus\\\":\\\"data\\\",\\\"expand\\\":\\\"options\\\",\\\"onFocusin\\\":\\\"options\\\",\\\"onFocusout\\\":\\\"options\\\"}\"\nimport script from \"./CollapseSearchBox.vue?vue&type=script&lang=js\"\nexport * from \"./CollapseSearchBox.vue?vue&type=script&lang=js\"\n\nimport \"./CollapseSearchBox.vue?vue&type=style&index=0&id=3716e019&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3716e019\"\n\nexport default script","<template>\r\n    <div class=\"modal-mask\" v-if=\"show_modal\" @click=\"$emit('close')\">\r\n        <div class=\"modal\">\r\n            <div class=\"modal-body\" @click.stop>\r\n                <div class=\"header\">\r\n                    <h5 class=\"title\">{{ title }}</h5>\r\n                    <slot name=\"header\"></slot>\r\n                    <div class=\"btn-close-wrapper\">\r\n                        <span class=\"btn-close\" @click=\"$emit('close')\">\r\n                            &times;\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"content\">\r\n                    <slot></slot>\r\n                </div>\r\n                <div class=\"footer\">\r\n                    <slot name=\"footer\"></slot>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Modal\",\r\n\r\n    props: {\r\n        showModal: Boolean,\r\n        title: String,\r\n    },\r\n    computed: {\r\n        show_modal() {\r\n            return this.showModal;\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-mask {\r\n    z-index: 998;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.7);\r\n    display: table;\r\n    &.large {\r\n        ::v-deep(.modal-body) {\r\n            max-width: 40em;\r\n        }\r\n    }\r\n    &.auto {\r\n        display: flex;\r\n    }\r\n    &.small {\r\n        ::v-deep(.modal-body) {\r\n            max-width: 27em;\r\n        }\r\n    }\r\n    .modal {\r\n        display: table-cell;\r\n        vertical-align: middle;\r\n        margin: auto;\r\n        max-width: 100vw;\r\n        .modal-body {\r\n            border: solid 1px rgba(240, 145, 216, 0.3);\r\n            background-color: rgba(255, 245, 238, 0.815);\r\n            border-radius: 4px;\r\n            margin: auto;\r\n            transition: all 1s ease-in-out;\r\n            .header {\r\n                display: flex;\r\n                justify-content: space-between;\r\n                background-color: rgba(255, 245, 238, 0.815);\r\n                .title {\r\n                    margin: 1em 3em;\r\n                    font-size: 1em;\r\n                }\r\n                .btn-close-wrapper {\r\n                    display: inline-flex;\r\n                    align-items: center;\r\n                    .btn-close:hover {\r\n                        color: red;\r\n                        /* transition: all 1s ease-in-out; */\r\n                    }\r\n                    .btn-close {\r\n                        padding-right: 5px;\r\n                        font-size: 2em;\r\n                        cursor: pointer;\r\n                        transition: all 0.5s ease-in-out;\r\n                        /* pointer-events: ; */\r\n                    }\r\n                }\r\n            }\r\n            .content {\r\n                max-height: 80vh;\r\n\r\n                overflow-y: scroll;\r\n                &::-webkit-scrollbar {\r\n                    width: 3px;\r\n                }\r\n\r\n                &::-webkit-scrollbar-track {\r\n                    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\r\n                }\r\n\r\n                &::-webkit-scrollbar-thumb {\r\n                    background-color: rgba(245, 211, 117, 0.822);\r\n                    outline: 1px solid rgba(128, 224, 248, 0.219);\r\n                }\r\n            }\r\n            .footer {\r\n                text-align: center;\r\n                background-color: rgba(255, 245, 238, 0.815);\r\n                padding: 0.5em;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./Modal.vue?vue&type=template&id=495a16dc&scoped=true&bindings={\\\"showModal\\\":\\\"props\\\",\\\"title\\\":\\\"props\\\",\\\"show_modal\\\":\\\"options\\\"}\"\nimport script from \"./Modal.vue?vue&type=script&lang=js\"\nexport * from \"./Modal.vue?vue&type=script&lang=js\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=495a16dc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-495a16dc\"\n\nexport default script","import { render } from \"./TagTool.vue?vue&type=template&id=22224b2a&scoped=true&bindings={\\\"large\\\":\\\"props\\\",\\\"toggleSearch\\\":\\\"props\\\",\\\"toggleAdd\\\":\\\"props\\\",\\\"toggleCount\\\":\\\"props\\\",\\\"toggleDelete\\\":\\\"props\\\",\\\"hideTitle\\\":\\\"props\\\",\\\"bid\\\":\\\"props\\\",\\\"textview\\\":\\\"props\\\",\\\"tags\\\":\\\"data\\\",\\\"new_tag_form\\\":\\\"data\\\",\\\"show_modal_add\\\":\\\"data\\\",\\\"searchText\\\":\\\"data\\\",\\\"submiting\\\":\\\"data\\\",\\\"focus\\\":\\\"data\\\",\\\"dropdownItems\\\":\\\"options\\\",\\\"allTags\\\":\\\"options\\\",\\\"textContent\\\":\\\"options\\\",\\\"onClickTag\\\":\\\"options\\\",\\\"inputFocusout\\\":\\\"options\\\",\\\"fetchTags\\\":\\\"options\\\",\\\"submitNewTag\\\":\\\"options\\\",\\\"removeTag\\\":\\\"options\\\"}\"\nimport script from \"./TagTool.vue?vue&type=script&lang=js\"\nexport * from \"./TagTool.vue?vue&type=script&lang=js\"\n\nimport \"./TagTool.vue?vue&type=style&index=0&id=22224b2a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-22224b2a\"\n\nexport default script","<template>\r\n    <template v-if=\"textview\">\r\n        <span>{{textContent}}</span>\r\n    </template>\r\n    <template v-else>\r\n        <div class=\"container\" :class=\"{ small: !large }\">\r\n            <div class=\"header\">\r\n                <span class=\"title\" v-if=\"hideTitle !== true\">作者</span>\r\n                <search-bar\r\n                    class=\"searchbar\"\r\n                    v-if=\"toggleSearch\"\r\n                    @focusin=\"searchfocus = true\"\r\n                    @focusout=\"inputFocusout\"\r\n                    v-model:search-text=\"inputSearchAuthorName\"\r\n                    @submit=\"chooseAuthor\"\r\n                >\r\n                    <div\r\n                        class=\"dropdown-container collapse\"\r\n                        v-if=\"searchfocus === true\"\r\n                    >\r\n                        <div class=\"dropdown\">\r\n                            <div\r\n                                class=\"dropdown-item\"\r\n                                v-for=\"(item, idx) in dropdownItems\"\r\n                                :key=\"idx\"\r\n                                @click=\"\r\n                                    () => {\r\n                                        searchfocus = false;\r\n                                        inputSearchAuthorName = item.name;\r\n                                    }\r\n                                \"\r\n                            >\r\n                                {{ item.name }}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </search-bar>\r\n\r\n                <button\r\n                    type=\"button\"\r\n                    class=\"add-new\"\r\n                    v-if=\"toggleAdd\"\r\n                    @click=\"show_modal_add = true\"\r\n                >\r\n                    <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"14\"\r\n                        height=\"14\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"#00b0ff\"\r\n                    >\r\n                        <path d=\"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n            <div class=\"spliter\" v-if=\"large\"></div>\r\n            <div class=\"content\">\r\n                <div\r\n                    class=\"item\"\r\n                    v-for=\"(author, idx) in authors\"\r\n                    :key=\"idx\"\r\n                    @click=\"unchooseAuthor(author.aid)\"\r\n                >\r\n                    {{ author.name }}\r\n                    <span class=\"bcount\" v-if=\"toggleCount\">{{\r\n                        author.bcount\r\n                    }}</span>\r\n                    <span\r\n                        class=\"close\"\r\n                        v-if=\"toggleDelete\"\r\n                        @click.stop=\"removeAuthor(author.aid)\"\r\n                        >&times;</span\r\n                    >\r\n                </div>\r\n            </div>\r\n            <div class=\"footer\"></div>\r\n        </div>\r\n\r\n        <modal\r\n            class=\"modal-add small\"\r\n            :show-modal=\"show_modal_add\"\r\n            @close=\"show_modal_add = false\"\r\n            :title=\"'新建作者'\"\r\n            v-if=\"toggleAdd\"\r\n        >\r\n            <form\r\n                class=\"form\"\r\n                id=\"new-author-form\"\r\n                @submit.prevent=\"submitNewAuthor\"\r\n            >\r\n                <div\r\n                    class=\"form-control\"\r\n                    v-for=\"key in Object.keys(new_author_form).sort()\"\r\n                    :key=\"new_author_form[key].order\"\r\n                    :class=\"{\r\n                        success: new_author_form[key].valid === true,\r\n                        error: new_author_form[key].valid === false,\r\n                    }\"\r\n                >\r\n                    <label :for=\"key\">{{\r\n                        new_author_form[key].label_name\r\n                    }}</label>\r\n                    <input\r\n                        :type=\"new_author_form[key].type\"\r\n                        :name=\"key\"\r\n                        v-model=\"new_author_form[key].value\"\r\n                        @focus=\"inputfocus = true\"\r\n                        @focusout=\"inputFocusout\"\r\n                        autocomplete=\"off\"\r\n                    />\r\n                    <div class=\"dropdown-container\" v-if=\"inputfocus === true\">\r\n                        <div class=\"dropdown\">\r\n                            <div\r\n                                class=\"dropdown-item\"\r\n                                v-for=\"(item, idx) in dropdownItems\"\r\n                                :key=\"idx\"\r\n                                @click=\"\r\n                                    () => {\r\n                                        inputfocus = false;\r\n                                        new_author_form[key].value = item.name;\r\n                                    }\r\n                                \"\r\n                            >\r\n                                {{ item.name }}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <span\r\n                        class=\"check status\"\r\n                        v-if=\"new_author_form[key].valid === true\"\r\n                        >✔️</span\r\n                    >\r\n                    <span\r\n                        class=\"cross status\"\r\n                        v-if=\"new_author_form[key].valid === false\"\r\n                        >❌</span\r\n                    >\r\n                    <small v-if=\"new_author_form[key].valid === false\">{{\r\n                        new_author_form[key].err\r\n                    }}</small>\r\n                </div>\r\n            </form>\r\n            <template v-slot:footer>\r\n                <material-button\r\n                    type=\"submit\"\r\n                    form=\"new-author-form\"\r\n                    :content=\"submiting ? 'submiting' : 'submit'\"\r\n                />\r\n            </template>\r\n        </modal>\r\n    </template>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from \"./CollapseSearchBox\";\r\nimport Modal from \"./Modal\";\r\nimport MaterialButton from \"./MaterialButton\";\r\n\r\nexport default {\r\n    name: \"AuthorTool\",\r\n    components: {\r\n        SearchBar,\r\n        Modal,\r\n        MaterialButton,\r\n    },\r\n    props: {\r\n        large: Boolean,\r\n        toggleSearch: Boolean,\r\n        toggleAdd: Boolean,\r\n        toggleCount: Boolean,\r\n        toggleDelete: Boolean,\r\n        hideTitle: Boolean,\r\n        bid: Number,\r\n        textview:Boolean\r\n        // allTags: Array\r\n    },\r\n    data() {\r\n        return {\r\n            authors: [],\r\n            new_author_form: {\r\n                name: {\r\n                    order: 1,\r\n                    label_name: \"作者名\",\r\n                    type: \"text\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n            },\r\n            dropdownItems: [],\r\n            show_modal_add: false,\r\n            submiting: false,\r\n            searchfocus: false,\r\n            inputfocus: false,\r\n            inputSearchAuthorName: \"\",\r\n        };\r\n    },\r\n    computed: {\r\n        inputAuthorName() {\r\n            return this.new_author_form.name.value;\r\n        },\r\n        textContent() {\r\n            return this.authors.map(e => e.name).join(';');\r\n        }\r\n    },\r\n    watch: {\r\n        inputAuthorName(newValue) {\r\n            if (newValue.trim().length <= 0) {\r\n                this.inputfocus = false;\r\n                this.dropdownItems = [];\r\n                return;\r\n            }\r\n            if (\r\n                newValue.trim().length <= 0 ||\r\n                this.dropdownItems.filter((e) => newValue === e.name).length > 0\r\n            )\r\n                return;\r\n            if (typeof this.timeoutID === \"number\") {\r\n                clearTimeout(this.timeoutID);\r\n            }\r\n            this.timeoutID = setTimeout(() => {\r\n                fetch(`/api/author/search/${newValue.trim()}`, {\r\n                    method: \"GET\",\r\n                })\r\n                    .then((res) => res.json())\r\n                    .then((res) => {\r\n                        if (res.ok && this.inputAuthorName.trim().length > 0) {\r\n                            this.dropdownItems = res.data;\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }, 1000);\r\n        },\r\n        inputSearchAuthorName(newValue) {\r\n            if (newValue.trim().length <= 0) {\r\n                this.searchfocus = false;\r\n                this.dropdownItems = [];\r\n                return;\r\n            }\r\n            if (\r\n                newValue.trim().length <= 0 ||\r\n                this.dropdownItems.filter((e) => newValue === e.name).length > 0\r\n            ) {\r\n                return;\r\n            }\r\n            if (typeof this.timeoutID === \"number\") {\r\n                clearTimeout(this.timeoutID);\r\n            }\r\n            this.timeoutID = setTimeout(() => {\r\n                fetch(`/api/author/search/${newValue.trim()}`, {\r\n                    method: \"GET\",\r\n                })\r\n                    .then((res) => res.json())\r\n                    .then((res) => {\r\n                        if (\r\n                            res.ok &&\r\n                            this.inputSearchAuthorName.trim().length > 0\r\n                        ) {\r\n                            this.dropdownItems = res.data;\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }, 1000);\r\n        },\r\n    },\r\n    methods: {\r\n        chooseAuthor() {\r\n            var name = this.inputSearchAuthorName;\r\n            if (\r\n                this.dropdownItems.filter((e) => e.name === name.trim())\r\n                    .length > 0 &&\r\n                this.authors.filter((e) => e.name === name.trim()).length <= 0\r\n            ) {\r\n                this.authors.push(\r\n                    this.dropdownItems.filter((e) => e.name === name.trim())[0]\r\n                );\r\n                this.$emit(\"authors-changed\", this.authors);\r\n\r\n                this.inputSearchAuthorName = \"\";\r\n                this.dropdownItems = [];\r\n                this.inputfocus = false;\r\n                this.searchfocus = false;\r\n            }\r\n        },\r\n        unchooseAuthor(aid) {\r\n            if (this.bid !== undefined) return;\r\n            this.authors = this.authors.filter((e) => e.aid !== aid);\r\n            this.$emit(\"authors-changed\", this.authors);\r\n        },\r\n        inputFocusout() {\r\n            setTimeout(() => {\r\n                this.inputfocus = false;\r\n                this.searchfocus = false;\r\n            }, 200);\r\n        },\r\n        fetchAuthors() {\r\n            if (this.bid === undefined) return;\r\n            fetch(`/api/author/list/${this.bid}`, {\r\n                method: \"GET\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.authors = res.data;\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n        submitNewAuthor(e) {\r\n            if (this.bid === undefined) {\r\n                var data = new FormData(e.target);\r\n\r\n                let name = this.new_author_form.name;\r\n                name.value = name.value.trim();\r\n                if (name.value.length <= 0) {\r\n                    name.valid = false;\r\n                    name.err = \"作者名不可为空\";\r\n                } else {\r\n                    name.valid = true;\r\n                    name.err = \"\";\r\n                }\r\n                if (name.valid) {\r\n                    this.submiting = true;\r\n                    fetch(\"/api/author/new\", {\r\n                        method: \"POST\",\r\n                        body: data,\r\n                    })\r\n                        .then((res) => res.json())\r\n                        .then((res) => {\r\n                            if (!res.ok) {\r\n                                name.valid = false;\r\n                                name.err = res.msg;\r\n                            }\r\n                            this.submiting = false;\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                            name.valid = false;\r\n                            name.err = \"网络错误\";\r\n                            this.submiting = false;\r\n                        });\r\n                }\r\n            } else {\r\n                let name = this.new_author_form.name;\r\n                name.value = name.value.trim();\r\n                if (name.value.length <= 0) {\r\n                    name.valid = false;\r\n                    name.err = \"作者名不可为空\";\r\n                } else if (\r\n                    this.dropdownItems.filter((e) => e.name === name.value)\r\n                        .length <= 0\r\n                ) {\r\n                    name.valid = false;\r\n                    name.err = \"作者不存在\";\r\n                } else {\r\n                    this.submiting = true;\r\n                    let x = this.dropdownItems.filter(\r\n                        (e) => e.name === name.value\r\n                    )[0];\r\n                    fetch(`/api/author/add/${x.aid}/${this.bid}`, {\r\n                        method: \"POST\",\r\n                    })\r\n                        .then((res) => res.json())\r\n                        .then((res) => {\r\n                            if (res.ok) {\r\n                                this.authors.push(x);\r\n                                name.valid = true;\r\n                                setTimeout(() => {\r\n                                    this.show_modal_add = false;\r\n                                    delete name.valid;\r\n                                    name.err = \"\";\r\n                                    name.value = \"\";\r\n                                }, 500);\r\n                            } else {\r\n                                name.valid = false;\r\n                                name.err = res.msg;\r\n                            }\r\n                            this.submiting = false;\r\n                        })\r\n                        .catch((err) => {\r\n                            console.log(err);\r\n                            name.valid = false;\r\n                            name.err = \"网络错误\";\r\n                            this.submiting = false;\r\n                        });\r\n                }\r\n            }\r\n        },\r\n        removeAuthor(aid) {\r\n            if (confirm(`删除作者?`)) {\r\n                fetch(`/api/author/del/${aid}/${this.bid || \"\"}`, {\r\n                    method: \"POST\",\r\n                })\r\n                    .then((res) => res.json())\r\n                    .then((res) => {\r\n                        if (res.ok) {\r\n                            this.authors = this.authors.filter(\r\n                                (e) => e.aid !== res.data.aid\r\n                            );\r\n                        } else {\r\n                            alert(res.msg);\r\n                        }\r\n                    })\r\n                    .catch((err) => console.log(err));\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        this.fetchAuthors();\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n    // border: solid 1px rgba(143, 143, 143, 0.747);\r\n\r\n    border-radius: 8px;\r\n    margin: 0.5em;\r\n    padding: 0;\r\n    &.small {\r\n        margin: 0;\r\n        .header {\r\n            .title {\r\n                font-size: 14px;\r\n                font-weight: 700;\r\n            }\r\n        }\r\n    }\r\n    .spliter {\r\n        border-bottom: solid 1px rgb(218, 210, 210);\r\n        margin-bottom: 0.5em;\r\n        margin-top: 0.2em;\r\n        width: 100%;\r\n    }\r\n    .header {\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        text-align: left;\r\n        // justify-content: space-between;\r\n        .title {\r\n            flex: 1;\r\n        }\r\n        .add-new {\r\n            display: inline-flex;\r\n            align-items: center;\r\n            width: 20px;\r\n            height: 20px;\r\n\r\n            padding: 0 0.2rem;\r\n            margin: 0 0.5em;\r\n            border: 0;\r\n            outline: none;\r\n            background-color: rgba(0, 0, 0, 0);\r\n            border-radius: 50%;\r\n            cursor: pointer;\r\n            svg {\r\n                transition: all 0.5s ease-in-out;\r\n            }\r\n            &:hover svg {\r\n                // box-shadow: 0 1px 6px 0 rgba(32,33,36,0.28);\r\n                fill: rgb(89, 145, 5);\r\n            }\r\n        }\r\n    }\r\n    .content {\r\n        position: relative;\r\n        width: 100%;\r\n        min-height: 1.6rem;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        \r\n        .item {\r\n            margin: 0.2em;\r\n            display: inline-flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            border: solid 1px rgb(22, 129, 13);\r\n            border-radius: 0.5em;\r\n            padding: 0 0.5em;\r\n            cursor: pointer;\r\n            user-select: none;\r\n            background-color: rgba(0, 138, 0, 0.616);\r\n            transition: background-color 0.5s ease-in-out;\r\n            &:hover {\r\n                box-shadow: 0 1px 6px 0 rgba(32, 33, 36, 0.28);\r\n            }\r\n            &.active {\r\n                background-color: rgba(0, 170, 0, 0.616);\r\n                box-shadow: 0 1px 6px 0 rgba(32, 33, 36, 0.28);\r\n            }\r\n\r\n            .bcount {\r\n                display: inline-flex;\r\n                align-items: center;\r\n                font-size: 13px;\r\n                background-color: rgba(92, 91, 91, 0.767);\r\n                color: white;\r\n                padding: 0 0.2em;\r\n                height: 70%;\r\n                margin-left: 5px;\r\n                border-radius: 3px;\r\n                line-height: 0;\r\n            }\r\n            .close {\r\n                display: flex;\r\n                align-items: center;\r\n                margin-left: 2px;\r\n                transition: color 0.5s ease-in-out;\r\n                &:hover {\r\n                    color: red;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n.form {\r\n    padding: 30px 40px;\r\n    .form-control {\r\n        margin-bottom: 10px;\r\n        padding-bottom: 20px;\r\n        position: relative;\r\n        text-align: left;\r\n        .status {\r\n            user-select: none;\r\n            position: absolute;\r\n            top: 34px;\r\n            right: 5px;\r\n        }\r\n        label {\r\n            display: inline-block;\r\n            margin-bottom: 5px;\r\n        }\r\n        input {\r\n            border: 2px solid #f0f0f0;\r\n            border-radius: 4px;\r\n            display: block;\r\n            font-family: inherit;\r\n            font-size: 14px;\r\n            padding: 10px;\r\n            width: 100%;\r\n            box-sizing: border-box;\r\n            &:focus {\r\n                outline: 0;\r\n                border-color: #777;\r\n            }\r\n        }\r\n        &.error input {\r\n            border-color: #e74c3c;\r\n        }\r\n        &.success input {\r\n            border-color: #2ecc71;\r\n        }\r\n        small {\r\n            font-size: 12px;\r\n            color: #e74c3c;\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n        }\r\n    }\r\n}\r\n.dropdown-container {\r\n    position: relative;\r\n    width: 0px;\r\n    z-index: 998;\r\n    .dropdown {\r\n        width: 150px;\r\n        position: fixed;\r\n        // top: 0;\r\n        // left: 0;\r\n        box-shadow: 0 1px 6px 0 rgba(32, 33, 36, 0.28);\r\n        .dropdown-item {\r\n            // position: fixed;\r\n            // display: block;\r\n            // width: 100%;\r\n\r\n            border-left: 2px solid #777;\r\n            border-right: 2px solid #777;\r\n            border-bottom: 2px solid #777;\r\n            padding: 0.3em;\r\n            background-color: rgba(222, 214, 206, 1);\r\n            transition: background-color 0.5s ease-in-out;\r\n            &:first-child {\r\n                border-top: 2px solid #777;\r\n                border-radius: 5px 5px 0 0;\r\n                border-top-left-radius: 5px;\r\n                border-top-right-radius: 5px;\r\n            }\r\n            &:last-child {\r\n                border-bottom-left-radius: 5px;\r\n                border-bottom-right-radius: 5px;\r\n            }\r\n            &:hover {\r\n                background-color: cornsilk;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./AuthorTool.vue?vue&type=template&id=61683b52&scoped=true&bindings={\\\"large\\\":\\\"props\\\",\\\"toggleSearch\\\":\\\"props\\\",\\\"toggleAdd\\\":\\\"props\\\",\\\"toggleCount\\\":\\\"props\\\",\\\"toggleDelete\\\":\\\"props\\\",\\\"hideTitle\\\":\\\"props\\\",\\\"bid\\\":\\\"props\\\",\\\"textview\\\":\\\"props\\\",\\\"authors\\\":\\\"data\\\",\\\"new_author_form\\\":\\\"data\\\",\\\"dropdownItems\\\":\\\"data\\\",\\\"show_modal_add\\\":\\\"data\\\",\\\"submiting\\\":\\\"data\\\",\\\"searchfocus\\\":\\\"data\\\",\\\"inputfocus\\\":\\\"data\\\",\\\"inputSearchAuthorName\\\":\\\"data\\\",\\\"inputAuthorName\\\":\\\"options\\\",\\\"textContent\\\":\\\"options\\\",\\\"chooseAuthor\\\":\\\"options\\\",\\\"unchooseAuthor\\\":\\\"options\\\",\\\"inputFocusout\\\":\\\"options\\\",\\\"fetchAuthors\\\":\\\"options\\\",\\\"submitNewAuthor\\\":\\\"options\\\",\\\"removeAuthor\\\":\\\"options\\\"}\"\nimport script from \"./AuthorTool.vue?vue&type=script&lang=js\"\nexport * from \"./AuthorTool.vue?vue&type=script&lang=js\"\n\nimport \"./AuthorTool.vue?vue&type=style&index=0&id=61683b52&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-61683b52\"\n\nexport default script","import { render } from \"./BookItem.vue?vue&type=template&id=4bea04d4&scoped=true&bindings={\\\"bookdata\\\":\\\"props\\\",\\\"userclass\\\":\\\"props\\\",\\\"listview\\\":\\\"props\\\",\\\"show_modal\\\":\\\"data\\\",\\\"cover\\\":\\\"data\\\",\\\"columns\\\":\\\"data\\\",\\\"book_intro\\\":\\\"data\\\",\\\"book_props\\\":\\\"data\\\",\\\"can_delete\\\":\\\"options\\\",\\\"can_borrow\\\":\\\"options\\\",\\\"changeCover\\\":\\\"options\\\",\\\"fetchCover\\\":\\\"options\\\",\\\"borrowBook\\\":\\\"options\\\",\\\"deleteBook\\\":\\\"options\\\",\\\"onBtnEditClicked\\\":\\\"options\\\",\\\"updateBook\\\":\\\"options\\\"}\"\nimport script from \"./BookItem.vue?vue&type=script&lang=js\"\nexport * from \"./BookItem.vue?vue&type=script&lang=js\"\n\nimport \"./BookItem.vue?vue&type=style&index=0&id=4bea04d4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4bea04d4\"\n\nexport default script","<template>\r\n    <nav>\r\n        <div class=\"sm\">\r\n            <a class=\"logo\">BOOkMs <small>图书借阅管理系统</small></a>\r\n            <button class=\"toggle\" type=\"button\" @click=\"navExpand = !navExpand\">\r\n                <span class=\"hamburger\"></span>\r\n            </button>\r\n        </div>\r\n\r\n        <div class=\"button-group\" :class=\"{expand:navExpand}\" v-if=\"user.class === 'guest'\">\r\n            <button class=\"button\" @click=\"toggle_login_modal = true\">\r\n                登录\r\n            </button>\r\n            <button class=\"button\" @click=\"toggle_register_modal = true\">\r\n                注册\r\n            </button>\r\n        </div>\r\n        <div class=\"button-group\" :class=\"{expand:navExpand}\" v-else>\r\n            <button\r\n                class=\"button\"\r\n                :class=\"{ lgm: user.class === 'admin' }\"\r\n                @click=\"showUserprofile = !showUserprofile\"\r\n            >\r\n                {{ user.name }}\r\n            </button>\r\n            <button class=\"button\" @click=\"showBorrowTable = !showBorrowTable\">\r\n                借阅📚\r\n            </button>\r\n            <template v-if=\"user.class === 'admin'\">\r\n                <button\r\n                    class=\"button\"\r\n                    @click=\"showPendingTable = !showPendingTable\"\r\n                >\r\n                    审核⏳\r\n                </button>\r\n                <button class=\"button\" @click=\"showUserTable = true\">\r\n                    用户👥\r\n                </button>\r\n                <button\r\n                    class=\"button\"\r\n                    @click=\"toggle_newbook_modal = !toggle_newbook_modal\"\r\n                >\r\n                    新书➕\r\n                </button>\r\n            </template>\r\n            <button class=\"button\" @click=\"logout\">\r\n                登出\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n                    <path\r\n                        d=\"M16 9v-4l8 7-8 7v-4h-8v-6h8zm-2 10v-.083c-1.178.685-2.542 1.083-4 1.083-4.411 0-8-3.589-8-8s3.589-8 8-8c1.458 0 2.822.398 4 1.083v-2.245c-1.226-.536-2.577-.838-4-.838-5.522 0-10 4.477-10 10s4.478 10 10 10c1.423 0 2.774-.302 4-.838v-2.162z\"\r\n                    />\r\n                </svg>\r\n            </button>\r\n        </div>\r\n\r\n    </nav>\r\n\r\n    <modal\r\n        class=\"modal-login small\"\r\n        title=\"登录\"\r\n        :show-modal=\"toggle_login_modal\"\r\n        @close=\"toggle_login_modal = false\"\r\n        v-if=\"user.class === 'guest'\"\r\n    >\r\n        <form class=\"form\" id=\"login-form\" @submit.prevent=\"login\">\r\n            <div\r\n                class=\"form-control\"\r\n                v-for=\"key in Object.keys(login_form).sort(\r\n                    (a, b) => login_form[a].order - login_form[b].order\r\n                )\"\r\n                :key=\"login_form[key].order\"\r\n                :class=\"{\r\n                    success: login_form[key].valid === true,\r\n                    error: login_form[key].valid === false,\r\n                }\"\r\n            >\r\n                <label :for=\"key\">{{ login_form[key].label_name }}</label>\r\n                <input\r\n                    :type=\"login_form[key].type\"\r\n                    :name=\"key\"\r\n                    v-model=\"login_form[key].value\"\r\n                    autocomplete=\"off\"\r\n                />\r\n                <span class=\"check\" v-if=\"login_form[key].valid === true\"\r\n                    >✔️</span\r\n                >\r\n                <span class=\"cross\" v-if=\"login_form[key].valid === false\"\r\n                    >❌</span\r\n                >\r\n                <small v-if=\"login_form[key].valid === false\">{{\r\n                    login_form[key].err\r\n                }}</small>\r\n            </div>\r\n        </form>\r\n        <template v-slot:footer>\r\n            <material-button\r\n                type=\"submit\"\r\n                form=\"login-form\"\r\n                :content=\"submiting ? '登录中' : '登录'\"\r\n                :disabled=\"submiting\"\r\n            />\r\n        </template>\r\n    </modal>\r\n    <modal\r\n        class=\"modal-register small\"\r\n        title=\"注册\"\r\n        :show-modal=\"toggle_register_modal\"\r\n        @close=\"toggle_register_modal = false\"\r\n        v-if=\"user.class === 'guest'\"\r\n    >\r\n        <form class=\"form\" id=\"register-form\" @submit.prevent=\"register\">\r\n            <div\r\n                class=\"form-control\"\r\n                v-for=\"key in Object.keys(register_form).sort(\r\n                    (a, b) => register_form[a].order - register_form[b].order\r\n                )\"\r\n                :key=\"register_form[key].order\"\r\n                :class=\"{\r\n                    success: register_form[key].valid === true,\r\n                    error: register_form[key].valid === false,\r\n                }\"\r\n            >\r\n                <label :for=\"key\">{{ register_form[key].label_name }}</label>\r\n                <input\r\n                    :type=\"register_form[key].type\"\r\n                    :name=\"key\"\r\n                    v-model=\"register_form[key].value\"\r\n                    :autocomplete=\"key === 'password' ? 'new-password' : 'off'\"\r\n                />\r\n                <span class=\"check\" v-if=\"register_form[key].valid === true\"\r\n                    >✔️</span\r\n                >\r\n                <span class=\"cross\" v-if=\"register_form[key].valid === false\"\r\n                    >❌</span\r\n                >\r\n                <small v-if=\"register_form[key].valid === false\">{{\r\n                    register_form[key].err\r\n                }}</small>\r\n            </div>\r\n        </form>\r\n        <template v-slot:footer>\r\n            <material-button\r\n                type=\"submit\"\r\n                form=\"register-form\"\r\n                :content=\"submiting ? '注册中' : '注册'\"\r\n                :disabled=\"submiting\"\r\n            />\r\n        </template>\r\n    </modal>\r\n    <modal-new-book\r\n        :show-modal=\"toggle_newbook_modal\"\r\n        @close=\"toggle_newbook_modal = false\"\r\n    />\r\n    <userprofile\r\n        v-if=\"showUserprofile\"\r\n        :show=\"showUserprofile\"\r\n        @close=\"showUserprofile = false\"\r\n    />\r\n    <borrow-table\r\n        v-if=\"showBorrowTable\"\r\n        :show=\"showBorrowTable\"\r\n        @close=\"showBorrowTable = false\"\r\n    />\r\n    <pending-table\r\n        v-if=\"showPendingTable\"\r\n        :show=\"showPendingTable\"\r\n        @close=\"showPendingTable = false\"\r\n    />\r\n    <user-table\r\n        v-if=\"showUserTable\"\r\n        :show=\"showUserTable\"\r\n        @close=\"showUserTable = false\"\r\n    />\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"../Modal\";\r\nimport MaterialButton from \"../MaterialButton\";\r\nimport ModalNewBook from \"./NewBookForm\";\r\nimport Userprofile from \"./Userprofile\";\r\nimport BorrowTable from \"./BorrowTable\";\r\nimport PendingTable from \"./PendingTable\";\r\nimport UserTable from \"./UserTable\";\r\n\r\nexport default {\r\n    name: \"TopNavBar\",\r\n    components: {\r\n        Modal,\r\n        MaterialButton,\r\n        ModalNewBook,\r\n        Userprofile,\r\n        BorrowTable,\r\n        PendingTable,\r\n        UserTable,\r\n    },\r\n    props: {\r\n        user: Object,\r\n    },\r\n    emits: [\"login\", \"logout\"],\r\n    data() {\r\n        return {\r\n            showUserprofile: false,\r\n            showBorrowTable: false,\r\n            showUserTable: false,\r\n            showPendingTable: false,\r\n            toggle_login_modal: false,\r\n            toggle_register_modal: false,\r\n            toggle_newbook_modal: false,\r\n            navExpand:false,\r\n            login_form: {\r\n                username: {\r\n                    order: 1,\r\n                    label_name: \"用户名\",\r\n                    type: \"text\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n                password: {\r\n                    order: 2,\r\n                    label_name: \"密码\",\r\n                    type: \"password\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n            },\r\n            register_form: {\r\n                username: {\r\n                    order: 1,\r\n                    label_name: \"用户名\",\r\n                    type: \"text\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n                email: {\r\n                    order: 2,\r\n                    label_name: \"邮箱\",\r\n                    type: \"email\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n                password: {\r\n                    order: 3,\r\n                    label_name: \"密码\",\r\n                    type: \"password\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n                password1: {\r\n                    order: 4,\r\n                    label_name: \"确认密码\",\r\n                    type: \"password\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n            },\r\n            submiting: false,\r\n            // userclass: \"guest\",\r\n        };\r\n    },\r\n    methods: {\r\n        login(e) {\r\n            let username = this.login_form.username;\r\n            let ok = true;\r\n            if (username.value.trim().length <= 0) {\r\n                username.valid = false;\r\n                username.err = \"用户名为空\";\r\n                ok = false;\r\n            } else {\r\n                username.valid = true;\r\n                username.err = \"\";\r\n            }\r\n            let password = this.login_form.password;\r\n            if (password.value.length <= 0) {\r\n                password.valid = false;\r\n                password.err = \"密码为空\";\r\n                ok = false;\r\n            } else {\r\n                password.valid = true;\r\n                password.err = \"\";\r\n            }\r\n            if (ok) {\r\n                var data = new FormData(e.target);\r\n                fetch(\"/user/login\", {\r\n                    method: \"POST\",\r\n                    body: data,\r\n                })\r\n                    .then((res) => res.json())\r\n                    .then((res) => {\r\n                        if (res.ok) {\r\n                            this.$emit(\"login\", res.data);\r\n                            this.toggle_login_modal = false;\r\n                        } else {\r\n                            this.login_form[res.err.key].valid = false;\r\n                            this.login_form[res.err.key].err = res.err.msg;\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }\r\n        },\r\n        register(e) {\r\n            let username = this.register_form.username;\r\n            let email = this.register_form.email;\r\n            let password = this.register_form.password;\r\n            let password1 = this.register_form.password1;\r\n\r\n            let ok = true;\r\n            if (username.value.trim().length <= 0) {\r\n                username.valid = false;\r\n                username.err = \"用户名为空\";\r\n                ok = false;\r\n            } else {\r\n                username.valid = true;\r\n                username.err = \"\";\r\n            }\r\n\r\n            if (password.value.length < 8) {\r\n                password.valid = false;\r\n                password.err = \"密码至少8位\";\r\n                ok = false;\r\n            } else {\r\n                password.valid = true;\r\n                password.err = \"\";\r\n            }\r\n\r\n            if (password1.value !== password.value) {\r\n                password1.valid = false;\r\n                password1.err = \"密码不匹配\";\r\n                ok = false;\r\n            } else {\r\n                password1.valid = true;\r\n                password1.err = \"\";\r\n            }\r\n\r\n            if (\r\n                /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n                    email.value\r\n                )\r\n            ) {\r\n                email.valid = true;\r\n                email.err = \"\";\r\n            } else {\r\n                email.valid = false;\r\n                email.err = \"邮箱不合法\";\r\n                ok = false;\r\n            }\r\n\r\n            if (ok) {\r\n                var data = new FormData(e.target);\r\n                fetch(\"/user/register\", {\r\n                    method: \"POST\",\r\n                    body: data,\r\n                })\r\n                    .then((res) => res.json())\r\n                    .then((res) => {\r\n                        if (res.ok) {\r\n                            this.$emit(\"register\", res.data);\r\n                            this.toggle_register_modal = false;\r\n                        } else {\r\n                            if (res.err) {\r\n                                for (let e of res.err) {\r\n                                    this.register_form[e.param].valid = false;\r\n                                    this.register_form[e.param].err = e.msg;\r\n                                }\r\n                            } else {\r\n                                console.log(res);\r\n                            }\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }\r\n        },\r\n        logout(e) {\r\n            e.target.disabled = true;\r\n            fetch(\"/user/logout\", {\r\n                method: \"POST\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.$emit(\"logout\");\r\n                    }\r\n                    e.target.disabled = false;\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                    e.target.disabled = false;\r\n                });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n* {\r\n    box-sizing: border-box;\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\nnav {\r\n    text-align: left;\r\n    background: rgba(145, 128, 110, 0.897);\r\n    padding: 10px 20px;\r\n    display: block;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    .sm {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        // .logo {\r\n            \r\n        // }\r\n    }\r\n    \r\n    .button-group {\r\n        // border: 2px solid cornsilk;\r\n        margin: 0.2em;\r\n        // display: flex;\r\n        flex-wrap: wrap;\r\n        align-items: center;\r\n        overflow: hidden;\r\n        display: none;\r\n        transition: opacity .4s ease-in-out;\r\n        &.expand {\r\n            display: flex;\r\n            margin-top: 10px;\r\n            justify-content: flex-end;\r\n        }\r\n        .button {\r\n            display: flex;\r\n            align-items: center;\r\n            color: white;\r\n            font-size: 1.1rem;\r\n            line-height: 1em;\r\n            padding: 0.3em;\r\n            border: 1.5px solid cornsilk;\r\n            border-left: none;\r\n\r\n            outline: none;\r\n            background-color: rgba(0, 0, 0, 0);\r\n\r\n            transition: all 0.5s ease-in-out;\r\n            box-sizing: border-box;\r\n            cursor: pointer;\r\n            // &:first-child {\r\n            //     border-radius: .3em 0 0 .3em;\r\n\r\n            // }\r\n            svg {\r\n                width: 1.1rem;\r\n                fill: rgb(156, 31, 0);\r\n            }\r\n            &:first-child {\r\n                border: 1.5px solid cornsilk;\r\n                border-radius: 0.3em 0 0 0.3em;\r\n            }\r\n            &:last-child {\r\n                border-radius: 0 0.3em 0.3em 0;\r\n            }\r\n            &:hover {\r\n                background-color: cornsilk;\r\n                color: #666;\r\n            }\r\n            &.lgm {\r\n                display: block;\r\n                background-color: #f5f5f5;\r\n                color: red;\r\n                &::first-letter {\r\n                    color: black;\r\n                }\r\n                &:hover {\r\n                    background-color: #ffffff;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .toggle {\r\n        background-color: #b3af9969;\r\n        outline: none;\r\n        border: solid 1px rgba(0, 0, 0, 0.2);\r\n        border-radius: 0.3em;\r\n\r\n        transition: background 0.5s ease-in-out;\r\n        &:hover {\r\n            background-color: cornsilk;\r\n        }\r\n        .hamburger {\r\n            -webkit-tap-highlight-color: transparent;\r\n            font-family: inherit;\r\n            text-transform: none;\r\n            font-size: 1.25rem;\r\n            line-height: 1;\r\n            cursor: pointer;\r\n            color: rgba(0, 0, 0, 0.5);\r\n            box-sizing: border-box;\r\n            display: inline-block;\r\n            width: 1.5em;\r\n            height: 1.5em;\r\n            vertical-align: middle;\r\n            content: \"\";\r\n            background: no-repeat center center;\r\n            background-size: 100% 100%;\r\n            background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.5%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\");\r\n        }\r\n    }\r\n}\r\n\r\n.form {\r\n    padding: 30px 40px;\r\n    .form-control {\r\n        margin-bottom: 10px;\r\n        padding-bottom: 20px;\r\n        position: relative;\r\n        text-align: left;\r\n        span {\r\n            user-select: none;\r\n            position: absolute;\r\n            top: 33px;\r\n            right: 6px;\r\n        }\r\n        label {\r\n            display: inline-block;\r\n            margin-bottom: 5px;\r\n        }\r\n        input {\r\n            border: 2px solid #f0f0f0;\r\n            border-radius: 4px;\r\n            display: block;\r\n            font-family: inherit;\r\n            font-size: 14px;\r\n            padding: 10px;\r\n            width: 100%;\r\n            &:focus {\r\n                outline: 0;\r\n                border-color: #777;\r\n            }\r\n        }\r\n        &.error input {\r\n            border-color: #e74c3c;\r\n        }\r\n        &.success input {\r\n            border-color: #2ecc71;\r\n        }\r\n        small {\r\n            font-size: 12px;\r\n            color: #e74c3c;\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n        }\r\n    }\r\n}\r\n\r\n@media all and (min-width: 606px) {\r\n    .toggle {\r\n        display: none;\r\n    }\r\n    nav {\r\n        display: flex;\r\n        .sm {\r\n            flex: 1;\r\n        }\r\n        .button-group {\r\n            display: flex;\r\n        }\r\n    }\r\n}\r\n</style>","<template>\r\n    <modal class=\"large\" :title=\"'新书'\" :show-modal=\"showModal\">\r\n        <form class=\"form\" @submit.prevent.stop ref=\"form\">\r\n            <div\r\n                class=\"form-control\"\r\n                v-for=\"key in Object.keys(newbook_form).sort(\r\n                    (a, b) => newbook_form[a].order - newbook_form[b].order\r\n                )\"\r\n                :key=\"newbook_form[key].order\"\r\n                :class=\"{\r\n                    success: newbook_form[key].valid === true,\r\n                    error: newbook_form[key].valid === false,\r\n                }\"\r\n            >\r\n                <label :for=\"key\">{{ newbook_form[key].label_name }}</label>\r\n                <input\r\n                    class=\"input\"\r\n                    :type=\"newbook_form[key].type\"\r\n                    :name=\"key\"\r\n                    v-model=\"newbook_form[key].value\"\r\n                    autocomplete=\"off\"\r\n                />\r\n                <span\r\n                    class=\"check status\"\r\n                    v-if=\"newbook_form[key].valid === true\"\r\n                    >✔️</span\r\n                >\r\n                <span\r\n                    class=\"cross status\"\r\n                    v-if=\"newbook_form[key].valid === false\"\r\n                    >❌</span\r\n                >\r\n                <small v-if=\"newbook_form[key].valid === false\">{{\r\n                    newbook_form[key].err\r\n                }}</small>\r\n            </div>\r\n            <div class=\"form-control\">\r\n                <label for=\"intro\">简介</label>\r\n                <textarea name=\"intro\" rows=\"5\" class=\"input\"></textarea>\r\n                <span class=\"check status\" v-if=\"intro.valid === true\">✔️</span>\r\n                <span class=\"cross status\" v-if=\"intro.valid === false\"\r\n                    >❌</span\r\n                >\r\n                <small v-if=\"intro.valid === false\">{{ intro.err }}</small>\r\n            </div>\r\n            <div class=\"form-control\">\r\n                <label for=\"cover\">封面</label>\r\n                <div class=\"input-group input\">\r\n                    <input name=\"cover\" type=\"file\" />\r\n                    <div>或&nbsp;</div>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"cover_url\"\r\n                        placeholder=\"图片URL\"\r\n                        autocomplete=\"off\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div class=\"form-control\">\r\n                <label\r\n                    >标签\r\n                    <span\r\n                        class=\"expand-collapse\"\r\n                        @click=\"expandCollapseTags = !expandCollapseTags\"\r\n                        ><svg\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            :class=\"{ expand: expandCollapseTags }\"\r\n                            viewBox=\"0 0 24 24\"\r\n                        >\r\n                            <path\r\n                                d=\"M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z\"\r\n                            /></svg></span\r\n                ></label>\r\n                <collapse :is-expand=\"expandCollapseTags\">\r\n                    <div class=\"input\">\r\n                        <tag-tool\r\n                            :large=\"true\"\r\n                            :hide-title=\"true\"\r\n                            :toggle-search=\"true\"\r\n                            :toggle-add=\"true\"\r\n                        />\r\n                    </div>\r\n                </collapse>\r\n            </div>\r\n            <div class=\"form-control\">\r\n                <label>作者</label>\r\n                <div class=\"input\">\r\n                    <author-tool\r\n                        :large=\"true\"\r\n                        :hide-title=\"true\"\r\n                        :toggle-search=\"true\"\r\n                        :toggle-add=\"true\"\r\n                        @authors-changed=\"authors = $event\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <template v-slot:footer>\r\n            <material-button\r\n                content=\"提交\"\r\n                @click=\"submitNewBook\"\r\n                :disabled=\"submiting\"\r\n            />\r\n        </template>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"../Modal\";\r\nimport TagTool from \"../TagTool\";\r\nimport AuthorTool from \"../AuthorTool\";\r\nimport Collapse from \"../Collapse\";\r\nimport MaterialButton from \"../MaterialButton\";\r\nexport default {\r\n    name: \"NewBookForm\",\r\n    components: {\r\n        Modal,\r\n        TagTool,\r\n        AuthorTool,\r\n        Collapse,\r\n        MaterialButton,\r\n    },\r\n    props: {\r\n        showModal: Boolean,\r\n    },\r\n    data() {\r\n        return {\r\n            expandCollapseTags: false,\r\n            submiting: false,\r\n            authors: [],\r\n            newbook_form: {\r\n                title: {\r\n                    order: 1,\r\n                    label_name: \"书名\",\r\n                    value: \"\",\r\n                    type: \"text\",\r\n                    err: \"\",\r\n                },\r\n                pub: {\r\n                    order: 2,\r\n                    label_name: \"出版社\",\r\n                    value: \"\",\r\n                    type: \"text\",\r\n                    err: \"\",\r\n                },\r\n                isbn: {\r\n                    order: 3,\r\n                    label_name: \"ISBN\",\r\n                    value: \"\",\r\n                    type: \"text\",\r\n                    err: \"\",\r\n                },\r\n                year: {\r\n                    order: 5,\r\n                    label_name: \"出版年\",\r\n                    value: \"\",\r\n                    type: \"number\",\r\n                    err: \"\",\r\n                },\r\n                page: {\r\n                    order: 4,\r\n                    label_name: \"页数\",\r\n                    value: \"\",\r\n                    type: \"number\",\r\n                    err: \"\",\r\n                },\r\n                total: {\r\n                    order: 6,\r\n                    label_name: \"总数\",\r\n                    value: \"\",\r\n                    type: \"number\",\r\n                    err: \"\",\r\n                },\r\n            },\r\n            intro: {\r\n                label_name: \"简介\",\r\n                value: \"\",\r\n                err: \"\",\r\n            },\r\n        };\r\n    },\r\n    methods: {\r\n        async submitNewBook() {\r\n            var data = new FormData(this.$refs.form);\r\n            var ok = true;\r\n            for (var [k, v] of data.entries()) {\r\n                switch (k) {\r\n                    case \"title\": {\r\n                        let it = this.newbook_form[k];\r\n                        if (v.trim().length <= 0) {\r\n                            it.valid = false;\r\n                            it.err = \"书名不可为空\";\r\n                            ok = false;\r\n                        } else {\r\n                            it.valid = true;\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                    case \"pub\": {\r\n                        let it = this.newbook_form[k];\r\n                        if (v.trim().length <= 0) {\r\n                            it.valid = false;\r\n                            it.err = \"出版社名不可为空\";\r\n                            ok = false;\r\n                        } else {\r\n                            it.valid = true;\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"isbn\": {\r\n                        let it = this.newbook_form[k];\r\n                        if (\r\n                            /^(?=(?:\\D*\\d){10}(?:(?:\\D*\\d){3})?$)[\\d-]+$/.test(\r\n                                v\r\n                            )\r\n                        ) {\r\n                            it.valid = true;\r\n                        } else {\r\n                            it.valid = false;\r\n                            it.err = \"ISBN 10 或 13\";\r\n                            ok = false;\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"year\": {\r\n                        let it = this.newbook_form[k];\r\n                        let x = parseInt(v);\r\n                        if (\r\n                            x >= 1000 &&\r\n                            x <= parseInt(new Date().getFullYear())\r\n                        ) {\r\n                            it.valid = true;\r\n                        } else {\r\n                            it.valid = false;\r\n                            it.err = \"这合适吗¿\";\r\n                            ok = false;\r\n                        }\r\n                        break;\r\n                    }\r\n                    case \"page\": {\r\n                        let it = this.newbook_form[k];\r\n                        let x = parseInt(v);\r\n                        if (x > 0 && x < Number.MAX_SAFE_INTEGER) {\r\n                            it.valid = true;\r\n                        } else {\r\n                            it.valid = false;\r\n                            it.err = \"这合适吗¿\";\r\n                            ok = false;\r\n                        }\r\n\r\n                        break;\r\n                    }\r\n                    case \"total\": {\r\n                        let it = this.newbook_form[k];\r\n                        let x = parseInt(v);\r\n                        if (x >= 0 && x < Number.MAX_SAFE_INTEGER) {\r\n                            it.valid = true;\r\n                        } else {\r\n                            it.valid = false;\r\n                            it.err = \"这合适吗¿\";\r\n                            ok = false;\r\n                        }\r\n\r\n                        break;\r\n                    }\r\n                    case \"intro\": {\r\n                        let it = this.intro;\r\n                        if (v.length < 500) {\r\n                            it.valid = true;\r\n                        } else {\r\n                            it.valid = false;\r\n                            it.err = \"简介不多于500字\";\r\n                            ok = false;\r\n                        }\r\n                        break;\r\n                    }\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            if (ok) {\r\n                let tags = this.$root.tags\r\n                    .filter((e) => e.active === true)\r\n                    .map((e) => e.tid);\r\n                let authors = this.authors.map((e) => e.aid);\r\n                data.append(\"tags\", JSON.stringify(tags));\r\n                data.append(\"authors\", JSON.stringify(authors));\r\n                // console.log(tags, authors);\r\n                this.submiting = true;\r\n\r\n                var imgUrl = data.get(\"cover_url\");\r\n                if (imgUrl) {\r\n                    try {\r\n                        imgUrl = new URL(\r\n                            `https://cors-anywhere.herokuapp.com/${imgUrl}`\r\n                        );\r\n                        var image = await fetch(imgUrl, {\r\n                            method: \"GET\",\r\n                            referrer: \"\",\r\n                        });\r\n                        image = await image.blob();\r\n                        console.log(image);\r\n                        data.set(\"cover\", image, \"cover\");\r\n                    } catch {\r\n                        console.log(\"url invalid\");\r\n                    }\r\n                }\r\n                try {\r\n                    var res = await fetch(\"/api/book/new\", {\r\n                        method: \"POST\",\r\n                        body: data,\r\n                    });\r\n                    res = await res.json();\r\n\r\n                    if (res.ok) {\r\n                        alert(\"成功\");\r\n                        for (let key of Object.keys(this.newbook_form)) {\r\n                            delete this.newbook_form[key].valid;\r\n                            this.newbook_form[key].err = \"\";\r\n                            this.newbook_form[key].value = \"\";\r\n                            delete this.intro.valid;\r\n                            this.intro.value = \"\";\r\n                        }\r\n                        \r\n                    } else {\r\n                        alert(`Failed : ${JSON.stringify(res.err)}`);\r\n                    }\r\n                } catch (err) {\r\n                    console.log(err);\r\n                    alert(\"网络错误\");\r\n                }\r\n                this.submiting = false;\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form {\r\n    padding: 30px 40px;\r\n    .form-control {\r\n        margin-bottom: 10px;\r\n        padding-bottom: 20px;\r\n        position: relative;\r\n        text-align: left;\r\n        .status {\r\n            user-select: none;\r\n            position: absolute;\r\n            top: 33px;\r\n            right: 6px;\r\n        }\r\n        label {\r\n            display: inline-block;\r\n            margin-bottom: 5px;\r\n        }\r\n        .input {\r\n            box-sizing: border-box;\r\n            border: 2px solid #f0f0f0;\r\n            border-radius: 4px;\r\n            display: block;\r\n            font-family: inherit;\r\n            font-size: 14px;\r\n            padding: 10px;\r\n            width: 100%;\r\n            &:focus {\r\n                outline: 0;\r\n                border-color: #777;\r\n            }\r\n        }\r\n        textarea {\r\n            box-sizing: border-box;\r\n            resize: none;\r\n            width: 100%;\r\n        }\r\n        &.error .input {\r\n            border-color: #e74c3c;\r\n        }\r\n        &.success .input {\r\n            border-color: #2ecc71;\r\n        }\r\n        small {\r\n            font-size: 12px;\r\n            color: #e74c3c;\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n        }\r\n\r\n        .input-group {\r\n            display: flex;\r\n            align-items: stretch;\r\n            padding: 0;\r\n            input {\r\n                flex: 1;\r\n                background-color: rgba(245, 245, 245, 0.904);\r\n                outline: none;\r\n                border: 2px solid #f0f0f0;\r\n\r\n                // border: none;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.expand-collapse {\r\n    svg {\r\n        width: 1rem;\r\n        height: 1rem;\r\n        fill: #0095ff;\r\n        transition: transform 0.5s;\r\n        &.expand {\r\n            transform: rotate(180deg);\r\n        }\r\n    }\r\n}\r\n</style>","<template>\r\n    <!-- <button @click=\"expanded = !expanded\">Collapse</button> -->\r\n    <div class=\"collapse-container\" :class=\"{ expand: expand }\" ref=\"cont\">\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    name: \"Collapse\",\r\n    props: {\r\n        isExpand: Boolean,\r\n        // title: String,\r\n        // expandAll: Boolean,\r\n    },\r\n    computed: {\r\n        expand() {\r\n            if (this.isExpand === true) {\r\n                this.expandContent(this.$refs.cont);\r\n            } else if (this.isExpand === false) {\r\n                this.collapseContent(this.$refs.cont);\r\n            }\r\n            // console.log(this.isExpand);\r\n            return this.isExpand;\r\n        },\r\n    },\r\n    methods: {\r\n        expandContent(element) {\r\n            if (element === undefined) return;\r\n            var height = element.scrollHeight;\r\n\r\n            element.style.height = height + \"px\";\r\n            element.addEventListener(\"transitionend\", function wtf() {\r\n                element.removeEventListener(\"transitionend\", wtf);\r\n                // element.style.height = null;\r\n            });\r\n        },\r\n        collapseContent(element) {\r\n            if (element === undefined) return;\r\n\r\n            var height = element.scrollHeight;\r\n            var elementTransition = element.style.transition;\r\n            element.style.transition = \"\";\r\n\r\n            requestAnimationFrame(function () {\r\n                element.style.height = height + \"px\";\r\n                element.style.transition = elementTransition;\r\n                requestAnimationFrame(function () {\r\n                    element.style.height = 0 + \"px\";\r\n                });\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.collapse-container {\r\n    &.ovfh {\r\n        overflow: hidden;\r\n    }\r\n\r\n    // background-color: rgba(224, 226, 94, 0.644);\r\n    border-top: solid 1px darkgray;\r\n    display: block;\r\n    height: 0;\r\n    opacity: 0;\r\n    pointer-events: none;\r\n    transition: height 0.5s ease-in-out, opacity  0.3s ease-in,\r\n            border 0.5s ease-in-out;\r\n\r\n    &.expand {\r\n        opacity: 1;\r\n        pointer-events: auto;\r\n        transition: height 0.5s ease-in-out, opacity 0.3s 0.5s ease-in,\r\n            border 0.5s ease-in-out;\r\n    }\r\n}\r\n</style>","import { render } from \"./Collapse.vue?vue&type=template&id=32a43e68&scoped=true&bindings={\\\"isExpand\\\":\\\"props\\\",\\\"expand\\\":\\\"options\\\",\\\"expandContent\\\":\\\"options\\\",\\\"collapseContent\\\":\\\"options\\\"}\"\nimport script from \"./Collapse.vue?vue&type=script&lang=js\"\nexport * from \"./Collapse.vue?vue&type=script&lang=js\"\n\nimport \"./Collapse.vue?vue&type=style&index=0&id=32a43e68&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-32a43e68\"\n\nexport default script","import { render } from \"./NewBookForm.vue?vue&type=template&id=314e65fb&scoped=true&bindings={\\\"showModal\\\":\\\"props\\\",\\\"expandCollapseTags\\\":\\\"data\\\",\\\"submiting\\\":\\\"data\\\",\\\"authors\\\":\\\"data\\\",\\\"newbook_form\\\":\\\"data\\\",\\\"intro\\\":\\\"data\\\",\\\"submitNewBook\\\":\\\"options\\\"}\"\nimport script from \"./NewBookForm.vue?vue&type=script&lang=js\"\nexport * from \"./NewBookForm.vue?vue&type=script&lang=js\"\n\nimport \"./NewBookForm.vue?vue&type=style&index=0&id=314e65fb&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-314e65fb\"\n\nexport default script","<template>\r\n    <teleport to=\"#app\">\r\n        <modal\r\n            :show-modal=\"show\"\r\n            class=\"large\"\r\n            :title=\"title\"\r\n            @close=\"$emit('close')\"\r\n        >\r\n            <div class=\"container-userprofile\">\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>UID</td>\r\n                            <td>{{ user.uid }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>用户名</td>\r\n                            <td>{{ user.name }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>邮箱</td>\r\n                            <td>{{ user.email }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>借阅数</td>\r\n                            <td>{{ user.count }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>权限</td>\r\n                            <td>{{ user.class }}</td>\r\n                        </tr>\r\n                        <!-- <form action=\"\"> -->\r\n\r\n                        <!-- </form> -->\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <template v-slot:footer>\r\n                <material-button :content=\"'修改密码'\"  @click=\"showChpswModal = true\"/>\r\n            </template>\r\n        </modal>\r\n    </teleport>\r\n    <teleport to=\"#app\">\r\n        <template v-if=\"showChpswModal\">\r\n            <modal\r\n                :title=\"'修改密码'\"\r\n                :show-modal=\"showChpswModal\"\r\n                class=\"small\"\r\n                @close=\"showChpswModal = false\"\r\n            >\r\n                <form ref='form' class=\"form\" @submit.prevent.stop>\r\n                    <div\r\n                        class=\"form-control\"\r\n                        v-for=\"key in Object.keys(inputItems).sort(\r\n                            (a, b) => inputItems[a].order - inputItems[b].order\r\n                        )\"\r\n                        :key=\"inputItems[key].order\"\r\n                        :class=\"{\r\n                            success: inputItems[key].valid === true,\r\n                            error: inputItems[key].valid === false,\r\n                        }\"\r\n                    >\r\n                        <label :for=\"key\">{{\r\n                            inputItems[key].label_name\r\n                        }}</label>\r\n\r\n                        <input\r\n                            :type=\"inputItems[key].type\"\r\n                            :name=\"key\"\r\n                            v-model=\"inputItems[key].value\"\r\n                            :autocomplete=\"\r\n                                key === 'password' ? 'new-password' : 'off'\r\n                            \"\r\n                        />\r\n                        <span\r\n                            class=\"check\"\r\n                            v-if=\"inputItems[key].valid === true\"\r\n                            >✔️</span\r\n                        >\r\n                        <span\r\n                            class=\"cross\"\r\n                            v-if=\"inputItems[key].valid === false\"\r\n                            >❌</span\r\n                        >\r\n                        <small v-if=\"inputItems[key].valid === false\">{{\r\n                            inputItems[key].err\r\n                        }}</small>\r\n                    </div>\r\n                </form>\r\n                <template v-slot:footer>\r\n                    <material-button :content=\"'确认'\" @click=\"changePassword\"/>\r\n                </template>\r\n            </modal>\r\n        </template>\r\n    </teleport>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"../Modal\";\r\nimport MaterialButton from \"../MaterialButton\"\r\nexport default {\r\n    name: \"Userprofile\",\r\n    props: {\r\n        show: Boolean,\r\n    },\r\n    components: {\r\n        Modal,\r\n        MaterialButton\r\n    },\r\n    data() {\r\n        return {\r\n            user: {\r\n                uid: -1,\r\n                name: \"\",\r\n                email: \"\",\r\n                count: \"\",\r\n                class: \"\",\r\n            },\r\n            title: \"Loading\",\r\n            showChpswModal: false,\r\n            inputItems: {\r\n                password0: {\r\n                    order: 1,\r\n                    label_name: \"原密码\",\r\n                    type: \"password\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n                password: {\r\n                    order: 2,\r\n                    label_name: \"新密码\",\r\n                    type: \"password\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n                password1: {\r\n                    order: 3,\r\n                    label_name: \"确认密码\",\r\n                    type: \"password\",\r\n                    value: \"\",\r\n                    err: \"\",\r\n                },\r\n            },\r\n        };\r\n    },\r\n    created() {\r\n        this.fetchData();\r\n    },\r\n    watch: {\r\n        show(val) {\r\n            if (val === true) {\r\n                this.fetchData();\r\n            } else this.title = \"Loading\";\r\n        },\r\n    },\r\n    methods: {\r\n        fetchData() {\r\n            fetch(\"/api/user\", {\r\n                method: \"GET\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.user = res.data;\r\n                        this.title = `${res.data.name} 详细信息`;\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n        changePassword() {\r\n            let password0 = this.inputItems.password0;\r\n            let password = this.inputItems.password;\r\n            let password1 = this.inputItems.password1;\r\n\r\n            let ok = true;\r\n\r\n            if (password0.value.length <= 0) {\r\n                password0.valid = false;\r\n                password0.err = \"请输入原密码\";\r\n                ok = false;\r\n            }\r\n            else {\r\n                password0.valid = true;\r\n                password0.err = \"\";\r\n            }\r\n\r\n            if (password.value.length < 8) {\r\n                password.valid = false;\r\n                password.err = \"密码至少8位\";\r\n                ok = false;\r\n            } else {\r\n                password.valid = true;\r\n                password.err = \"\";\r\n            }\r\n\r\n            if (password1.value !== password.value) {\r\n                password1.valid = false;\r\n                password1.err = \"密码不匹配\";\r\n                ok = false;\r\n            } else {\r\n                password1.valid = true;\r\n                password1.err = \"\";\r\n            }\r\n\r\n\r\n\r\n            if (ok) {\r\n                var data = new FormData(this.$refs.form);\r\n                fetch(\"/user/chpsw\", {\r\n                    method: \"POST\",\r\n                    body: data,\r\n                })\r\n                    .then((res) => res.json())\r\n                    .then((res) => {\r\n                        console.log(res);\r\n                        if (res.ok) {\r\n                            this.showChpswModal = false;\r\n                        } else {\r\n                            if (res.err) {\r\n                                for (let e of res.err) {\r\n                                    this.inputItems[e.param].valid = false;\r\n                                    this.inputItems[e.param].err = e.msg;\r\n                                }\r\n                            } else {\r\n                                console.log(res);\r\n                            }\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container-userprofile {\r\n    // position: relative;\r\n    overflow: auto;\r\n\r\n    table {\r\n        background: #7c6c3769;\r\n        border-radius: 0.25em;\r\n        border-collapse: collapse;\r\n        margin: auto;\r\n        white-space: nowrap;\r\n        min-width: 100%;\r\n        // &::-webkit-scrollbar {\r\n        //     width: 1px;\r\n        // }\r\n\r\n        // &::-webkit-scrollbar-track {\r\n        //     box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.3);\r\n        // }\r\n\r\n        // &::-webkit-scrollbar-thumb {\r\n        //     background-color: rgba(245, 211, 117, 0.822);\r\n        //     outline: 1px solid rgba(128, 224, 248, 0.219);\r\n        // }\r\n        tbody {\r\n            tr {\r\n                transition: background 0.25s ease;\r\n                &:hover {\r\n                    background: #5554018c;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    th {\r\n        border-bottom: 1px solid #364043;\r\n        color: #e2b842;\r\n        font-size: 0.85em;\r\n        font-weight: 600;\r\n        padding: 0.5em 1em;\r\n        text-align: left;\r\n    }\r\n    td {\r\n        color: #fff;\r\n        font-weight: 400;\r\n        padding: 0.65em 1em;\r\n        &:first-child {\r\n            text-align: right;\r\n            color: black;\r\n        }\r\n        &:last-child {\r\n            text-align: left;\r\n        }\r\n    }\r\n    .disabled td {\r\n        color: #4f5f64;\r\n    }\r\n}\r\n.form {\r\n    padding: 30px 40px;\r\n    .form-control {\r\n        margin-bottom: 10px;\r\n        padding-bottom: 20px;\r\n        position: relative;\r\n        text-align: left;\r\n        span {\r\n            user-select: none;\r\n            position: absolute;\r\n            top: 33px;\r\n            right: 6px;\r\n        }\r\n        label {\r\n            display: inline-block;\r\n            margin-bottom: 5px;\r\n        }\r\n        input {\r\n            border: 2px solid #f0f0f0;\r\n            border-radius: 4px;\r\n            display: block;\r\n            font-family: inherit;\r\n            font-size: 14px;\r\n            padding: 10px;\r\n            width: 100%;\r\n            &:focus {\r\n                outline: 0;\r\n                border-color: #777;\r\n            }\r\n        }\r\n        &.error input {\r\n            border-color: #e74c3c;\r\n        }\r\n        &.success input {\r\n            border-color: #2ecc71;\r\n        }\r\n        small {\r\n            font-size: 12px;\r\n            color: #e74c3c;\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./Userprofile.vue?vue&type=template&id=0edb6234&scoped=true&bindings={\\\"show\\\":\\\"props\\\",\\\"user\\\":\\\"data\\\",\\\"title\\\":\\\"data\\\",\\\"showChpswModal\\\":\\\"data\\\",\\\"inputItems\\\":\\\"data\\\",\\\"fetchData\\\":\\\"options\\\",\\\"changePassword\\\":\\\"options\\\"}\"\nimport script from \"./Userprofile.vue?vue&type=script&lang=js\"\nexport * from \"./Userprofile.vue?vue&type=script&lang=js\"\n\nimport \"./Userprofile.vue?vue&type=style&index=0&id=0edb6234&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0edb6234\"\n\nexport default script","<template>\r\n    <modal :show-modal=\"show\" class=\"auto\" :title=\"title\">\r\n        <div class=\"table-container\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th @click=\"sortTable('title')\">书名</th>\r\n                        <th @click=\"sortTable('stime')\">借书时间</th>\r\n                        <th @click=\"sortTable('ddl')\">应还时间</th>\r\n                        <th @click=\"sortTable('status')\">状态</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(it, idx) in rows\" :key=\"idx\">\r\n                        <td>{{ idx }}</td>\r\n                        <td>{{ it.title }}</td>\r\n                        <td>{{ it.stime }}</td>\r\n                        <td>{{ it.ddl }}</td>\r\n                        <td>\r\n                            <span class=\"status\" :class=\"it.status\">{{\r\n                                it.status\r\n                            }}</span>\r\n                        </td>\r\n                        <td>\r\n                            <button\r\n                                v-if=\"it.status !== 'returned' && it.status !== 'pending_return'\"\r\n                                class=\"button\"\r\n                                @click=\"returnBook(it.brid)\"\r\n                            >\r\n                                还书\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"../Modal\";\r\n\r\nexport default {\r\n    name: \"BorrowTable\",\r\n    props: {\r\n        show: Boolean,\r\n    },\r\n    components: {\r\n        Modal,\r\n    },\r\n    data() {\r\n        return {\r\n            rows: [],\r\n            title: \"Loading\",\r\n            ascending: false,\r\n            sortColumn: \"\",\r\n        };\r\n    },\r\n    watch: {\r\n        show(val) {\r\n            if (val === true) {\r\n                this.fetchData();\r\n            } else this.title = \"Loading\";\r\n        },\r\n    },\r\n    created() {\r\n        this.fetchData();\r\n    },\r\n    methods: {\r\n        fetchData() {\r\n            fetch(\"/api/borrow/list\", {\r\n                method: \"GET\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.rows = res.data;\r\n                        this.title = `${this.$root.user.name} 借阅信息`;\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n        sortTable(col) {\r\n            if (this.sortColumn === col) {\r\n                this.ascending = !this.ascending;\r\n            } else {\r\n                this.ascending = true;\r\n                this.sortColumn = col;\r\n            }\r\n\r\n            var ascending = this.ascending;\r\n\r\n            this.rows.sort(function (a, b) {\r\n                if (a[col] > b[col]) {\r\n                    return ascending ? 1 : -1;\r\n                } else if (a[col] < b[col]) {\r\n                    return ascending ? -1 : 1;\r\n                }\r\n                return 0;\r\n            });\r\n        },\r\n        returnBook(brid) {\r\n            fetch(`/api/return/${brid}`, {\r\n                method: \"POST\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        if (res.data.brid) {\r\n                            this.rows.filter((e) => (e.brid === brid))[0].status =\r\n                                \"pending_return\";\r\n                        } else {\r\n                            this.rows = this.rows.filter(\r\n                                (e) => (e.brid !== brid)\r\n                            );\r\n                        }\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.table-container {\r\n    // position: relative;\r\n    overflow: auto;\r\n\r\n    table {\r\n        background: #7c6c3769;\r\n        border-radius: 0.25em;\r\n        border-collapse: collapse;\r\n        margin: auto;\r\n        white-space: nowrap;\r\n        min-width: 100%;\r\n        // &::-webkit-scrollbar {\r\n        //     width: 1px;\r\n        // }\r\n\r\n        // &::-webkit-scrollbar-track {\r\n        //     box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.3);\r\n        // }\r\n\r\n        // &::-webkit-scrollbar-thumb {\r\n        //     background-color: rgba(245, 211, 117, 0.822);\r\n        //     outline: 1px solid rgba(128, 224, 248, 0.219);\r\n        // }\r\n        tbody {\r\n            tr {\r\n                transition: background 0.25s ease;\r\n                &:hover {\r\n                    background: #5554018c;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    th {\r\n        border-bottom: 1px solid #364043;\r\n        color: #e2b842;\r\n        font-size: 0.85em;\r\n        font-weight: 600;\r\n        padding: 0.5em 1em;\r\n        text-align: center;\r\n        cursor: pointer;\r\n\r\n        &:first-child {\r\n            text-align: right;\r\n        }\r\n        &:last-child {\r\n            text-align: left;\r\n        }\r\n    }\r\n    td {\r\n        color: #fff;\r\n        font-weight: 400;\r\n        padding: 0.65em 1em;\r\n        text-align: center;\r\n        &:first-child {\r\n            text-align: right;\r\n            color: black;\r\n        }\r\n        &:last-child {\r\n            text-align: left;\r\n        }\r\n        .status {\r\n            border-radius: 0.5em;\r\n            padding: 0.2em 0.6em;\r\n            overflow: hidden;\r\n            box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n                0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n            &.ok {\r\n                background-color: rgb(1, 138, 184);\r\n            }\r\n            &.pending_borrow,\r\n            &.pending_return {\r\n                background-color: rgb(167, 94, 4);\r\n            }\r\n            &.returned {\r\n                background-color: rgb(64, 126, 3);\r\n            }\r\n            &.overtime {\r\n                background-color: firebrick;\r\n            }\r\n        }\r\n        .button {\r\n            position: relative;\r\n            display: inline-flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            box-sizing: border-box;\r\n            border: none;\r\n            border-radius: 4px;\r\n\r\n            min-width: 64px;\r\n            height: 1.5rem;\r\n\r\n            text-align: center;\r\n            text-overflow: ellipsis;\r\n            text-transform: uppercase;\r\n            color: rgb(var(--pure-material-onprimary-rgb, 255, 255, 255));\r\n            background-color: rgb(\r\n                var(--pure-material-primary-rgb, 33, 150, 243)\r\n            );\r\n            box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n                0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n            font-family: var(\r\n                --pure-material-font,\r\n                \"Roboto\",\r\n                \"Segoe UI\",\r\n                BlinkMacSystemFont,\r\n                system-ui,\r\n                -apple-system\r\n            );\r\n            font-size: 14px;\r\n            font-weight: 500;\r\n            line-height: 36px;\r\n            overflow: hidden;\r\n            outline: none;\r\n            cursor: pointer;\r\n            transition: box-shadow 0.2s;\r\n\r\n            &::-moz-focus-inner {\r\n                border: none;\r\n            }\r\n\r\n            /* Overlay */\r\n            &::before {\r\n                content: \"\";\r\n                position: absolute;\r\n                top: 0;\r\n                bottom: 0;\r\n                left: 0;\r\n                right: 0;\r\n                background-color: rgb(\r\n                    var(--pure-material-onprimary-rgb, 255, 255, 255)\r\n                );\r\n                opacity: 0;\r\n                transition: opacity 0.2s;\r\n            }\r\n\r\n            /* Ripple */\r\n            &::after {\r\n                content: \"\";\r\n                position: absolute;\r\n                left: 50%;\r\n                top: 50%;\r\n                border-radius: 50%;\r\n                padding: 50%;\r\n                width: 32px; /* Safari */\r\n                height: 32px; /* Safari */\r\n                background-color: rgb(\r\n                    var(--pure-material-onprimary-rgb, 255, 255, 255)\r\n                );\r\n                opacity: 0;\r\n                transform: translate(-50%, -50%) scale(1);\r\n                transition: opacity 1s, transform 0.5s;\r\n            }\r\n\r\n            /* Hover, Focus */\r\n            &:hover,\r\n            &:focus {\r\n                box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n                    0 4px 5px 0 rgba(0, 0, 0, 0.14),\r\n                    0 1px 10px 0 rgba(0, 0, 0, 0.12);\r\n            }\r\n\r\n            &:hover::before {\r\n                opacity: 0.08;\r\n            }\r\n\r\n            &:focus::before {\r\n                opacity: 0.24;\r\n            }\r\n\r\n            &:hover:focus::before {\r\n                opacity: 0.3;\r\n            }\r\n\r\n            /* Active */\r\n            &:active {\r\n                box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\r\n                    0 8px 10px 1px rgba(0, 0, 0, 0.14),\r\n                    0 3px 14px 2px rgba(0, 0, 0, 0.12);\r\n            }\r\n\r\n            &:active::after {\r\n                opacity: 0.32;\r\n                transform: translate(-50%, -50%) scale(0);\r\n                transition: transform 0s;\r\n            }\r\n\r\n            /* Disabled */\r\n            &:disabled {\r\n                color: rgba(var(--pure-material-onsurface-rgb, 0, 0, 0), 0.38);\r\n                background-color: rgba(\r\n                    var(--pure-material-onsurface-rgb, 0, 0, 0),\r\n                    0.12\r\n                );\r\n                box-shadow: none;\r\n                cursor: initial;\r\n            }\r\n\r\n            &:disabled::before {\r\n                opacity: 0;\r\n            }\r\n\r\n            &:disabled::after {\r\n                opacity: 0;\r\n            }\r\n        }\r\n    }\r\n    .disabled td {\r\n        color: #4f5f64;\r\n    }\r\n}\r\n</style>","import { render } from \"./BorrowTable.vue?vue&type=template&id=6ab8f606&scoped=true&bindings={\\\"show\\\":\\\"props\\\",\\\"rows\\\":\\\"data\\\",\\\"title\\\":\\\"data\\\",\\\"ascending\\\":\\\"data\\\",\\\"sortColumn\\\":\\\"data\\\",\\\"fetchData\\\":\\\"options\\\",\\\"sortTable\\\":\\\"options\\\",\\\"returnBook\\\":\\\"options\\\"}\"\nimport script from \"./BorrowTable.vue?vue&type=script&lang=js\"\nexport * from \"./BorrowTable.vue?vue&type=script&lang=js\"\n\nimport \"./BorrowTable.vue?vue&type=style&index=0&id=6ab8f606&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6ab8f606\"\n\nexport default script","<template>\r\n    <modal :show-modal=\"show\" class=\"auto\" :title=\"title\">\r\n        <div class=\"table-container\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th @click=\"sortTable('username')\">用户名</th>\r\n                        <th @click=\"sortTable('title')\">书名</th>\r\n                        <th @click=\"sortTable('stime')\">借书时间</th>\r\n                        <th @click=\"sortTable('ddl')\">应还时间</th>\r\n                        <th @click=\"sortTable('status')\">状态</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(it, idx) in rows\" :key=\"idx\">\r\n                        <td>{{ idx }}</td>\r\n                        <td>{{ it.username }}</td>\r\n                        <td>{{ it.title }}</td>\r\n\r\n                        <td>{{ it.stime }}</td>\r\n                        <td>{{ it.ddl }}</td>\r\n                        <td>\r\n                            <span class=\"status\" :class=\"it.status\">{{\r\n                                it.status\r\n                            }}</span>\r\n                        </td>\r\n                        <td>\r\n                            <button\r\n                                class=\"button\"\r\n                                @click=\"acceptRequest(it.brid)\"\r\n                            >\r\n                                同意\r\n                            </button>\r\n                            <button\r\n                                class=\"button\"\r\n                                @click=\"rejectRequest(it.brid)\"\r\n                            >\r\n                                拒绝\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"../Modal\";\r\n\r\nexport default {\r\n    name: \"PendingTable\",\r\n    props: {\r\n        show: Boolean,\r\n    },\r\n    components: {\r\n        Modal,\r\n    },\r\n    data() {\r\n        return {\r\n            rows: [],\r\n            title: \"Loading\",\r\n            ascending: false,\r\n            sortColumn: \"\",\r\n        };\r\n    },\r\n    created() {\r\n        this.fetchData();\r\n    },\r\n    watch: {\r\n        show(val) {\r\n            if (val === true) {\r\n                this.fetchData();\r\n            } else this.title = \"Loading\";\r\n        },\r\n    },\r\n    methods: {\r\n        fetchData() {\r\n            fetch(\"/api/borrow/pending/\", {\r\n                method: \"GET\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.rows = res.data;\r\n                        this.title = `待审核`;\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n        sortTable(col) {\r\n            if (this.sortColumn === col) {\r\n                this.ascending = !this.ascending;\r\n            } else {\r\n                this.ascending = true;\r\n                this.sortColumn = col;\r\n            }\r\n\r\n            var ascending = this.ascending;\r\n\r\n            this.rows.sort(function (a, b) {\r\n                if (a[col] > b[col]) {\r\n                    return ascending ? 1 : -1;\r\n                } else if (a[col] < b[col]) {\r\n                    return ascending ? -1 : 1;\r\n                }\r\n                return 0;\r\n            });\r\n        },\r\n        acceptRequest(brid) {\r\n            fetch(`/api/borrow/accept/${brid}`, {\r\n                method: \"POST\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.rows = this.rows.filter((e) => e.brid !== brid);\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n        rejectRequest(brid) {\r\n            fetch(`/api/borrow/reject/${brid}`, {\r\n                method: \"POST\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.rows = this.rows.filter((e) => e.brid !== brid);\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.table-container {\r\n    // position: relative;\r\n    overflow: auto;\r\n\r\n    table {\r\n        background: #7c6c3769;\r\n        border-radius: 0.25em;\r\n        border-collapse: collapse;\r\n        margin: auto;\r\n        white-space: nowrap;\r\n        min-width: 100%;\r\n        // &::-webkit-scrollbar {\r\n        //     width: 1px;\r\n        // }\r\n\r\n        // &::-webkit-scrollbar-track {\r\n        //     box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.3);\r\n        // }\r\n\r\n        // &::-webkit-scrollbar-thumb {\r\n        //     background-color: rgba(245, 211, 117, 0.822);\r\n        //     outline: 1px solid rgba(128, 224, 248, 0.219);\r\n        // }\r\n        tbody {\r\n            tr {\r\n                transition: background 0.25s ease;\r\n                &:hover {\r\n                    background: #5554018c;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    th {\r\n        border-bottom: 1px solid #364043;\r\n        color: #e2b842;\r\n        font-size: 0.85em;\r\n        font-weight: 600;\r\n        padding: 0.5em 1em;\r\n        text-align: center;\r\n        cursor: pointer;\r\n\r\n        &:first-child {\r\n            text-align: right;\r\n        }\r\n        &:last-child {\r\n            text-align: left;\r\n        }\r\n    }\r\n    td {\r\n        color: #fff;\r\n        font-weight: 400;\r\n        padding: 0.65em 1em;\r\n        text-align: center;\r\n        &:first-child {\r\n            text-align: right;\r\n            color: black;\r\n        }\r\n        &:last-child {\r\n            text-align: left;\r\n        }\r\n        .status {\r\n            border-radius: 0.5em;\r\n            padding: 0.2em 0.6em;\r\n            overflow: hidden;\r\n            box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n                0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n            &.ok {\r\n                background-color: rgb(1, 138, 184);\r\n            }\r\n            &.pending_borrow,\r\n            &.pending_return {\r\n                background-color: rgb(167, 94, 4);\r\n            }\r\n            &.returned {\r\n                background-color: rgb(64, 126, 3);\r\n            }\r\n            &.overtime {\r\n                background-color: firebrick;\r\n            }\r\n        }\r\n        .button {\r\n            position: relative;\r\n            display: inline-flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            box-sizing: border-box;\r\n            border: none;\r\n            border-radius: 4px;\r\n\r\n            min-width: 64px;\r\n            height: 1.5rem;\r\n\r\n            text-align: center;\r\n            text-overflow: ellipsis;\r\n            text-transform: uppercase;\r\n            color: rgb(var(--pure-material-onprimary-rgb, 255, 255, 255));\r\n            background-color: rgb(\r\n                var(--pure-material-primary-rgb, 33, 150, 243)\r\n            );\r\n            box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n                0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n            font-family: var(\r\n                --pure-material-font,\r\n                \"Roboto\",\r\n                \"Segoe UI\",\r\n                BlinkMacSystemFont,\r\n                system-ui,\r\n                -apple-system\r\n            );\r\n            font-size: 14px;\r\n            font-weight: 500;\r\n            line-height: 36px;\r\n            overflow: hidden;\r\n            outline: none;\r\n            cursor: pointer;\r\n            transition: box-shadow 0.2s;\r\n\r\n            &::-moz-focus-inner {\r\n                border: none;\r\n            }\r\n\r\n            /* Overlay */\r\n            &::before {\r\n                content: \"\";\r\n                position: absolute;\r\n                top: 0;\r\n                bottom: 0;\r\n                left: 0;\r\n                right: 0;\r\n                background-color: rgb(\r\n                    var(--pure-material-onprimary-rgb, 255, 255, 255)\r\n                );\r\n                opacity: 0;\r\n                transition: opacity 0.2s;\r\n            }\r\n\r\n            /* Ripple */\r\n            &::after {\r\n                content: \"\";\r\n                position: absolute;\r\n                left: 50%;\r\n                top: 50%;\r\n                border-radius: 50%;\r\n                padding: 50%;\r\n                width: 32px; /* Safari */\r\n                height: 32px; /* Safari */\r\n                background-color: rgb(\r\n                    var(--pure-material-onprimary-rgb, 255, 255, 255)\r\n                );\r\n                opacity: 0;\r\n                transform: translate(-50%, -50%) scale(1);\r\n                transition: opacity 1s, transform 0.5s;\r\n            }\r\n\r\n            /* Hover, Focus */\r\n            &:hover,\r\n            &:focus {\r\n                box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n                    0 4px 5px 0 rgba(0, 0, 0, 0.14),\r\n                    0 1px 10px 0 rgba(0, 0, 0, 0.12);\r\n            }\r\n\r\n            &:hover::before {\r\n                opacity: 0.08;\r\n            }\r\n\r\n            &:focus::before {\r\n                opacity: 0.24;\r\n            }\r\n\r\n            &:hover:focus::before {\r\n                opacity: 0.3;\r\n            }\r\n\r\n            /* Active */\r\n            &:active {\r\n                box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\r\n                    0 8px 10px 1px rgba(0, 0, 0, 0.14),\r\n                    0 3px 14px 2px rgba(0, 0, 0, 0.12);\r\n            }\r\n\r\n            &:active::after {\r\n                opacity: 0.32;\r\n                transform: translate(-50%, -50%) scale(0);\r\n                transition: transform 0s;\r\n            }\r\n\r\n            /* Disabled */\r\n            &:disabled {\r\n                color: rgba(var(--pure-material-onsurface-rgb, 0, 0, 0), 0.38);\r\n                background-color: rgba(\r\n                    var(--pure-material-onsurface-rgb, 0, 0, 0),\r\n                    0.12\r\n                );\r\n                box-shadow: none;\r\n                cursor: initial;\r\n            }\r\n\r\n            &:disabled::before {\r\n                opacity: 0;\r\n            }\r\n\r\n            &:disabled::after {\r\n                opacity: 0;\r\n            }\r\n        }\r\n    }\r\n    .disabled td {\r\n        color: #4f5f64;\r\n    }\r\n}\r\n</style>","import { render } from \"./PendingTable.vue?vue&type=template&id=5e883b87&scoped=true&bindings={\\\"show\\\":\\\"props\\\",\\\"rows\\\":\\\"data\\\",\\\"title\\\":\\\"data\\\",\\\"ascending\\\":\\\"data\\\",\\\"sortColumn\\\":\\\"data\\\",\\\"fetchData\\\":\\\"options\\\",\\\"sortTable\\\":\\\"options\\\",\\\"acceptRequest\\\":\\\"options\\\",\\\"rejectRequest\\\":\\\"options\\\"}\"\nimport script from \"./PendingTable.vue?vue&type=script&lang=js\"\nexport * from \"./PendingTable.vue?vue&type=script&lang=js\"\n\nimport \"./PendingTable.vue?vue&type=style&index=0&id=5e883b87&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5e883b87\"\n\nexport default script","<template>\r\n    <modal :show-modal=\"show\" class=\"auto\" :title=\"title\">\r\n        <div class=\"table-container\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th\r\n                            v-for=\"(key, idx) in columns\"\r\n                            :key=\"idx\"\r\n                            @click=\"sortBy(key)\"\r\n                            :class=\"{ active: sortKey == key }\"\r\n                        >\r\n                            {{ key }}\r\n                            <span\r\n                                class=\"arrow\"\r\n                                :class=\"sortOrders[key] > 0 ? 'asc' : 'dsc'\"\r\n                            >\r\n                            </span>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"(entry, idx) in filteredRows\" :key=\"idx\">\r\n                        <td v-for=\"(key, idx) in columns\" :key=\"idx\">\r\n                            <span\r\n                                v-if=\"key === 'class'\"\r\n                                class=\"class\"\r\n                                :class=\"entry[key]\"\r\n                                @click=\"setClass(entry.uid)\"\r\n                                >{{ entry[key] }}</span\r\n                            >\r\n                            <span v-else>{{ entry[key] }}</span>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </modal>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Modal from \"../Modal\";\r\n\r\nexport default {\r\n    name: \"UserTable\",\r\n    components: {\r\n        Modal,\r\n    },\r\n    props: {\r\n        show: Boolean,\r\n    },\r\n    data() {\r\n        return {\r\n            rows: [],\r\n            title: \"Loading\",\r\n            sortKey: \"uid\",\r\n            filterKey: \"\",\r\n            sortOrders: {},\r\n        };\r\n    },\r\n    computed: {\r\n        columns() {\r\n            return Object.keys(this.rows[0] || {});\r\n        },\r\n        filteredRows() {\r\n            var sortKey = this.sortKey;\r\n            var filterKey = this.filterKey.trim();\r\n            var order = this.sortOrders[sortKey] || 1;\r\n            var rows = this.rows;\r\n            if (filterKey.length > 0) {\r\n                rows = rows.filter(function (row) {\r\n                    return Object.keys(row).some(function (key) {\r\n                        return (\r\n                            String(row[key]).toLowerCase().indexOf(filterKey) >\r\n                            -1\r\n                        );\r\n                    });\r\n                });\r\n            }\r\n            if (sortKey) {\r\n                rows = rows.slice().sort(function (a, b) {\r\n                    a = a[sortKey];\r\n                    b = b[sortKey];\r\n                    return (a === b ? 0 : a > b ? 1 : -1) * order;\r\n                });\r\n            }\r\n            return rows;\r\n        },\r\n    },\r\n    watch: {\r\n        show(val) {\r\n            if (val === true) {\r\n                this.fetchData();\r\n            } else this.title = \"Loading\";\r\n        },\r\n    },\r\n    created() {\r\n        this.fetchData();\r\n    },\r\n    methods: {\r\n        fetchData() {\r\n            fetch(\"/api/user/list\", {\r\n                method: \"GET\",\r\n            })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.rows = res.data;\r\n                        this.title = `用户`;\r\n                        this.columns.forEach(\r\n                            (key) => (this.sortOrders[key] = 1)\r\n                        );\r\n                    }\r\n                })\r\n                .catch((err) => console.log(err));\r\n        },\r\n        sortBy(key) {\r\n            this.sortKey = key;\r\n            this.sortOrders[key] = this.sortOrders[key] * -1;\r\n        },\r\n        setClass(uid) {\r\n            var val = prompt(`账号类型 in ('admin', 'user', 'guest')`);\r\n            fetch(`/api/user/setclass/${uid}/${val}`, { method: \"POST\" })\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.ok) {\r\n                        this.rows.filter((e) => e.uid === uid)[0].class =\r\n                            res.data.class;\r\n                            console.log()\r\n                    }\r\n                })\r\n                .catch((err) => alert(\"ERR: \" + JSON.stringify(err)));\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.table-container {\r\n    // position: relative;\r\n    overflow: auto;\r\n\r\n    table {\r\n        background: #7c6c3769;\r\n        border-radius: 0.25em;\r\n        border-collapse: collapse;\r\n        margin: auto;\r\n        white-space: nowrap;\r\n        min-width: 100%;\r\n        // &::-webkit-scrollbar {\r\n        //     width: 1px;\r\n        // }\r\n\r\n        // &::-webkit-scrollbar-track {\r\n        //     box-shadow: inset 1px 1px 1px rgba(0, 0, 0, 0.3);\r\n        // }\r\n\r\n        // &::-webkit-scrollbar-thumb {\r\n        //     background-color: rgba(245, 211, 117, 0.822);\r\n        //     outline: 1px solid rgba(128, 224, 248, 0.219);\r\n        // }\r\n        tbody {\r\n            tr {\r\n                transition: background 0.25s ease;\r\n                &:hover {\r\n                    background: #5554018c;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    th {\r\n        border-bottom: 1px solid #364043;\r\n        color: #e2b842;\r\n        font-size: 1rem;\r\n        font-weight: 600;\r\n        padding: 10px 20px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        -webkit-user-select: none;\r\n        -moz-user-select: none;\r\n        -ms-user-select: none;\r\n        user-select: none;\r\n        &:first-child {\r\n            text-align: right;\r\n        }\r\n        &:last-child {\r\n            text-align: left;\r\n        }\r\n        &.active {\r\n            color: rgb(255, 255, 255);\r\n        }\r\n\r\n        &.active .arrow {\r\n            opacity: 1;\r\n        }\r\n    }\r\n    td {\r\n        color: #fff;\r\n        font-weight: 400;\r\n        padding: 0.65em 1em;\r\n        text-align: center;\r\n        &:first-child {\r\n            text-align: right;\r\n            color: black;\r\n        }\r\n        &:last-child {\r\n            text-align: left;\r\n        }\r\n        .class {\r\n            -webkit-user-select: none;\r\n            -moz-user-select: none;\r\n            -ms-user-select: none;\r\n            user-select: none;\r\n            border-radius: 0.5em;\r\n            padding: 0.2em 0.6em;\r\n            overflow: hidden;\r\n            cursor: pointer;\r\n            box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n                0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\r\n            &.user {\r\n                background-color: rgb(64, 126, 3);\r\n            }\r\n            &.admin {\r\n                background-color: firebrick;\r\n            }\r\n        }\r\n    }\r\n    .disabled td {\r\n        color: #4f5f64;\r\n    }\r\n}\r\n\r\n.arrow {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    width: 0;\r\n    height: 0;\r\n    margin-left: 5px;\r\n    opacity: 0.66;\r\n}\r\n\r\n.arrow.asc {\r\n    border-left: 4px solid transparent;\r\n    border-right: 4px solid transparent;\r\n    border-bottom: 4px solid rgb(255, 255, 255);\r\n}\r\n\r\n.arrow.dsc {\r\n    border-left: 4px solid transparent;\r\n    border-right: 4px solid transparent;\r\n    border-top: 4px solid #fff;\r\n}\r\n</style>","import { render } from \"./UserTable.vue?vue&type=template&id=b329c44a&scoped=true&bindings={\\\"show\\\":\\\"props\\\",\\\"rows\\\":\\\"data\\\",\\\"title\\\":\\\"data\\\",\\\"sortKey\\\":\\\"data\\\",\\\"filterKey\\\":\\\"data\\\",\\\"sortOrders\\\":\\\"data\\\",\\\"columns\\\":\\\"options\\\",\\\"filteredRows\\\":\\\"options\\\",\\\"fetchData\\\":\\\"options\\\",\\\"sortBy\\\":\\\"options\\\",\\\"setClass\\\":\\\"options\\\"}\"\nimport script from \"./UserTable.vue?vue&type=script&lang=js\"\nexport * from \"./UserTable.vue?vue&type=script&lang=js\"\n\nimport \"./UserTable.vue?vue&type=style&index=0&id=b329c44a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b329c44a\"\n\nexport default script","import { render } from \"./TopBar.vue?vue&type=template&id=3206d455&scoped=true&bindings={\\\"user\\\":\\\"props\\\",\\\"showUserprofile\\\":\\\"data\\\",\\\"showBorrowTable\\\":\\\"data\\\",\\\"showUserTable\\\":\\\"data\\\",\\\"showPendingTable\\\":\\\"data\\\",\\\"toggle_login_modal\\\":\\\"data\\\",\\\"toggle_register_modal\\\":\\\"data\\\",\\\"toggle_newbook_modal\\\":\\\"data\\\",\\\"navExpand\\\":\\\"data\\\",\\\"login_form\\\":\\\"data\\\",\\\"register_form\\\":\\\"data\\\",\\\"submiting\\\":\\\"data\\\",\\\"login\\\":\\\"options\\\",\\\"register\\\":\\\"options\\\",\\\"logout\\\":\\\"options\\\"}\"\nimport script from \"./TopBar.vue?vue&type=script&lang=js\"\nexport * from \"./TopBar.vue?vue&type=script&lang=js\"\n\nimport \"./TopBar.vue?vue&type=style&index=0&id=3206d455&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3206d455\"\n\nexport default script","<template>\r\n    <form\r\n        class=\"search-form\"\r\n        @submit.stop.prevent=\"$emit('submit-search', searchText)\"\r\n    >\r\n        <div class=\"search-input-wrapper\">\r\n            <label class=\"search-label\" for=\"stext\">搜索</label>\r\n\r\n            <input\r\n                class=\"search-input\"\r\n                type=\"search\"\r\n                placeholder=\"书名/ISBN\"\r\n                name=\"stext\"\r\n                v-model=\"searchText\"\r\n                autocomplete=\"off\"\r\n            />\r\n            <span class=\"spliter\"></span>\r\n            <button type=\"submit\" class=\"btn-go\">\r\n                <svg\r\n                    focusable=\"false\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    class=\"svg-search\"\r\n                >\r\n                    <path\r\n                        d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\r\n                    ></path>\r\n                </svg>\r\n            </button>\r\n            <button\r\n                type=\"button\"\r\n                class=\"btn-expand\"\r\n                :class=\"{ expand: filter_expend }\"\r\n                @click=\"filter_expend = !filter_expend\"\r\n            >\r\n                <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"24\"\r\n                    height=\"24\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-width=\"3\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    class=\"svg-down-arrow\"\r\n                >\r\n                    <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n                </svg>\r\n            </button>\r\n            <collapse class=\"filter-collapse\" :is-expand=\"filter_expend\">\r\n                <slot></slot>\r\n            </collapse>\r\n        </div>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nimport Collapse from \"./Collapse\";\r\n\r\nexport default {\r\n    name: \"Searchbar\",\r\n    components: {\r\n        Collapse,\r\n    },\r\n    data() {\r\n        return {\r\n            filter_expend: false,\r\n            searchText: \"\",\r\n            // filter_expend: true,\r\n        };\r\n    },\r\n    mounted() {\r\n        // this.filter_expend = false;\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-form {\r\n    margin: 1em;\r\n}\r\n\r\n.search-input-wrapper {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: center;\r\n    // margin: auto;\r\n    // width: 80%;\r\n    border: solid 1px #dfe1e5;\r\n\r\n    border-radius: 25px;\r\n    // overflow: hidden;\r\n    &:hover {\r\n        box-shadow: 0 1px 6px 0 rgba(32, 33, 36, 0.28);\r\n        border-color: rgba(0, 0, 0, 0);\r\n    }\r\n    .search-label {\r\n        // background-color: rosybrown;\r\n        // display: flex;\r\n        // align-items: center;\r\n        display: none;\r\n    }\r\n\r\n    .search-input {\r\n        flex: 1;\r\n        outline: 0 none rgba(0, 0, 0, 0);\r\n        background-color: cornsilk;\r\n        border: none;\r\n        border-radius: 25px;\r\n        font-size: 1rem;\r\n        padding: 0.5rem;\r\n        margin-left: 0.5em;\r\n    }\r\n    .spliter {\r\n        // font-size: 6px;\r\n        // width: 1px;\r\n        border-left: 2px solid #dfe1e5;\r\n        height: 1.3em;\r\n    }\r\n    .btn-go,\r\n    .btn-expand {\r\n        width: 2.5rem;\r\n        height: 2.2rem;\r\n\r\n        border: 0;\r\n        outline: none;\r\n        background-color: rgba(0, 0, 0, 0);\r\n        display: flex;\r\n        align-items: center;\r\n        transition: all 0.5s ease-in-out;\r\n        cursor: pointer;\r\n        // pointer-events: all;\r\n        // transform: translateX(6px);\r\n        svg {\r\n            // pointer-events: fill;\r\n            height: 80%;\r\n            margin: auto;\r\n        }\r\n        .svg-search {\r\n            fill: #4285f4;\r\n            transition: fill 0.5s ease-in-out;\r\n            &:hover {\r\n                fill: rgb(89, 145, 5);\r\n            }\r\n        }\r\n        .svg-down-arrow {\r\n            transition: stroke 0.5s ease-in-out;\r\n\r\n            stroke: #4285f4;\r\n        }\r\n\r\n        &.expand {\r\n            transform: rotate(180deg);\r\n            .svg-down-arrow {\r\n                stroke: rgb(89, 145, 5);\r\n            }\r\n        }\r\n    }\r\n\r\n    .filter-collapse {\r\n        width: 100%;\r\n    }\r\n}\r\n</style>","import { render } from \"./Searchbar.vue?vue&type=template&id=65baf182&scoped=true&bindings={\\\"filter_expend\\\":\\\"data\\\",\\\"searchText\\\":\\\"data\\\"}\"\nimport script from \"./Searchbar.vue?vue&type=script&lang=js\"\nexport * from \"./Searchbar.vue?vue&type=script&lang=js\"\n\nimport \"./Searchbar.vue?vue&type=style&index=0&id=65baf182&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-65baf182\"\n\nexport default script","<template>\r\n    <ul class=\"page\">\r\n        <li\r\n            class=\"page__btn\"\r\n            :class=\"{ active: currentPage != 1 }\"\r\n            @click=\"currentPage--\"\r\n        >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                    d=\"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z\"\r\n                />\r\n            </svg>\r\n        </li>\r\n\r\n        <li\r\n            class=\"page__numbers\"\r\n            @click=\"currentPage = 1\"\r\n            v-if=\"currentPage > 3 && total > 7\"\r\n        >\r\n            1\r\n        </li>\r\n        <li class=\"page__dots\" v-if=\"total > 7 && currentPage > 3\">...</li>\r\n\r\n        <li\r\n            class=\"page__numbers\"\r\n            v-for=\"(pageNumber, idx) in displayedPages\"\r\n            :key=\"idx\"\r\n            @click=\"currentPage = pageNumber\"\r\n            :class=\"{ active: currentPage === pageNumber }\"\r\n        >\r\n            {{ pageNumber }}\r\n        </li>\r\n\r\n        <li\r\n            class=\"page__dots\"\r\n            v-if=\"currentPage < total - 2 && total > 7\"\r\n        >\r\n            ...\r\n        </li>\r\n        <li\r\n            class=\"page__numbers\"\r\n            @click=\"currentPage = total\"\r\n            v-if=\"currentPage < total - 2 && total > 7\"\r\n        >\r\n            {{total}}\r\n        </li>\r\n\r\n        <li\r\n            class=\"page__btn\"\r\n            :class=\"{ active: currentPage < total }\"\r\n            @click=\"currentPage++\"\r\n        >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                    d=\"M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z\"\r\n                />\r\n            </svg>\r\n        </li>\r\n    </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Pagination\",\r\n    props: {\r\n        total: Number,\r\n    },\r\n    data() {\r\n        return {\r\n            currentPage: 1,\r\n        };\r\n    },\r\n    methods: {\r\n\r\n    },\r\n    computed: {\r\n        // display the items per page\r\n        displayedPages() {\r\n            if (this.total <= 7) {\r\n                return Array.from({ length: this.total }, (_, i) => i + 1);\r\n            }\r\n\r\n            if (this.currentPage <= 3) {\r\n                return Array.from({ length: 5 }, (_, i) => i + 1);\r\n            } else if (this.currentPage < this.total - 2) {\r\n                return Array.from({length:3}, (_, i) => this.currentPage + i - 1);\r\n            } else {\r\n                return Array.from({ length: 5 }, (_, i) => this.total - 4 + i);\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        currentPage() {\r\n            this.$emit(\"page-updated\", this.currentPage);\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n*,\r\n*::before,\r\n*::after {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: inherit;\r\n}\r\n\r\nul {\r\n    --primary: #ffd09bb0;\r\n    --greyLight: #cdd5f7;\r\n    --greyLight-2: #f8f9ff;\r\n    --greyDark: #646b8a;\r\n\r\n    box-sizing: border-box;\r\n    font-size: 62.5%;\r\n    font-family: \"Poppins\", sans-serif;\r\n    letter-spacing: 0.6px;\r\n    line-height: 1.4;\r\n    -webkit-user-select: none;\r\n    backface-visibility: hidden;\r\n    -webkit-font-smoothing: subpixel-antialiased;\r\n\r\n    list-style-type: none;\r\n}\r\n\r\n.page {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 3rem;\r\n    margin: 3rem 0;\r\n    border-radius: 0.6rem;\r\n    background: #ffffff42;\r\n    box-shadow: 0 0.8rem 2rem rgba(#5a6181, 0.05);\r\n\r\n    &__numbers,\r\n    &__btn,\r\n    &__dots {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        margin: 0.8rem;\r\n        font-size: 1.4rem;\r\n        cursor: pointer;\r\n    }\r\n\r\n    &__dots {\r\n        width: 1.6rem;\r\n        height: 1.6rem;\r\n        color: var(--greyLight);\r\n        cursor: initial;\r\n    }\r\n\r\n    &__numbers {\r\n        width: 2rem;\r\n        height: 2rem;\r\n        border-radius: 0.4rem;\r\n\r\n        &:hover {\r\n            color: var(--primary);\r\n        }\r\n\r\n        &.active {\r\n            color: #ffffff;\r\n            background: var(--primary);\r\n            font-weight: 600;\r\n        }\r\n    }\r\n\r\n    &__btn {\r\n        svg {\r\n            height: 1rem;\r\n            width: 1rem;\r\n            fill: var(--greyLight);\r\n        }\r\n        pointer-events: none;\r\n\r\n        &.active {\r\n            svg {\r\n                fill: var(--greyDark);\r\n            }\r\n            pointer-events: initial;\r\n\r\n            &:hover {\r\n                color: var(--primary);\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./Pagination.vue?vue&type=template&id=58f7d3ee&scoped=true&bindings={\\\"total\\\":\\\"props\\\",\\\"currentPage\\\":\\\"data\\\",\\\"displayedPages\\\":\\\"options\\\"}\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=58f7d3ee&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-58f7d3ee\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=19062b43&scoped=true&bindings={\\\"fallback\\\":\\\"data\\\",\\\"user\\\":\\\"data\\\",\\\"books\\\":\\\"data\\\",\\\"tags\\\":\\\"data\\\",\\\"authors\\\":\\\"data\\\",\\\"totalPages\\\":\\\"data\\\",\\\"currentPage\\\":\\\"data\\\",\\\"searchText\\\":\\\"data\\\",\\\"filter_expanded\\\":\\\"data\\\",\\\"listview\\\":\\\"data\\\",\\\"fetchData\\\":\\\"options\\\",\\\"checkLogin\\\":\\\"options\\\",\\\"search\\\":\\\"options\\\"}\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&lang=scss\"\nimport \"./App.vue?vue&type=style&index=1&id=19062b43&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-19062b43\"\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\ncreateApp(App).mount('#app')\n","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BorrowTable.vue?vue&type=style&index=0&id=6ab8f606&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BorrowTable.vue?vue&type=style&index=0&id=6ab8f606&lang=scss&scoped=true\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PendingTable.vue?vue&type=style&index=0&id=5e883b87&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PendingTable.vue?vue&type=style&index=0&id=5e883b87&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CollapseSearchBox.vue?vue&type=style&index=0&id=3716e019&scoped=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CollapseSearchBox.vue?vue&type=style&index=0&id=3716e019&scoped=true&lang=css\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopBar.vue?vue&type=style&index=0&id=3206d455&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopBar.vue?vue&type=style&index=0&id=3206d455&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BookItem.vue?vue&type=style&index=0&id=4bea04d4&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BookItem.vue?vue&type=style&index=0&id=4bea04d4&lang=scss&scoped=true\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Userprofile.vue?vue&type=style&index=0&id=0edb6234&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Userprofile.vue?vue&type=style&index=0&id=0edb6234&lang=scss&scoped=true\"","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Searchbar.vue?vue&type=style&index=0&id=65baf182&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Searchbar.vue?vue&type=style&index=0&id=65baf182&lang=scss&scoped=true\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewBookForm.vue?vue&type=style&index=0&id=314e65fb&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewBookForm.vue?vue&type=style&index=0&id=314e65fb&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Collapse.vue?vue&type=style&index=0&id=32a43e68&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Collapse.vue?vue&type=style&index=0&id=32a43e68&lang=scss&scoped=true\"","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=1&id=19062b43&lang=scss&scoped=true\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=1&id=19062b43&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Modal.vue?vue&type=style&index=0&id=495a16dc&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Modal.vue?vue&type=style&index=0&id=495a16dc&lang=scss&scoped=true\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserTable.vue?vue&type=style&index=0&id=b329c44a&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./UserTable.vue?vue&type=style&index=0&id=b329c44a&lang=scss&scoped=true\""],"sourceRoot":""}